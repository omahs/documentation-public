openapi: 3.0.1
info:
  title: EVM
  description: ''
  version: 1.0.0
tags:
  - name: public
  - name: private
paths:
  /v1/public/futures:
    get:
      summary: Get Futures Info for All Markets
      deprecated: false
      description: |

        **Limit: 10 requests per 1 second per IP address**

        `GET /v1/public/futures`

        Get basic futures information for all the markets.
      tags:
        - public
      parameters: []
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FuturesInfoResponse'
  /v1/public/fee/program:
    get:
      summary: Get Fee Information
      deprecated: false
      description: ''
      tags:
        - public
      parameters: []
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FeeProgramResponse'
  /v1/public/fee_futures/program:
    get:
      summary: Get Futures Fee Information
      deprecated: false
      description: |
        **Limit: 10 requests per 1 second per IP address**

        `GET /v1/public/fee_futures/program`

        Get fee information for futures trading.
      tags:
        - public
      parameters: []
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FuturesFeeProgramResponse'
  /v1/public/market_trades:
    get:
      summary: Get Market Trades
      deprecated: false
      description: |

        **Limit: 10 requests per 1 second per IP address**

        `GET /v1/public/market_trades`

        Get the latest market trades.
      tags:
        - public
      parameters:
        - name: symbol
          in: query
          description: ''
          required: true
          example: PERP_NEAR_USDC
          schema:
            type: string
        - name: limit
          in: query
          description: Numbers of trades want to query.
          required: false
          example: '10'
          schema:
            type: integer
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MarketTradesResponse'
  /v1/public/volume/stats:
    get:
      summary: Get Volume Statistics
      deprecated: false
      description: >

        **Limit: 10 requests per 1 second per IP address**


        `GET /v1/public/volume/stats`


        Get the latest volume statistics of Orderly and its associated brokers.
        Note that for broker volume, the volume is counted as the sum of the
        maker and taker volume, while for the full Orderly platform, the volume
        is the total amount matched on the platform (ie taker and maker are not
        double-counted.)
      tags:
        - public
      parameters:
        - name: broker_id
          in: query
          description: Provide broker_id to obtain statistics of a specific broker
          required: false
          example: test_broker
          schema:
            type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VolumeStatsResponse'
  /v1/public/broker/name:
    get:
      summary: Get Broker List
      deprecated: false
      description: |

        **Limit: 10 requests per 1 second per IP address**

        `GET /v1/public/broker/name?broker_id={broker_id}`

        Get the list of brokers currently onboarded on Orderly Network.
      tags:
        - public
      parameters:
        - name: broker_id
          in: query
          description: If provided, it will only output details for the particular broker.
          required: false
          example: test_broker
          schema:
            type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BrokerListResponse'
  /v1/public/funding_rates:
    get:
      summary: Get Predicted Funding Rates for All Markets
      deprecated: false
      description: >-

        **Limit: 10 requests per 1 second per IP address**


        `GET /v1/public/funding_rates`


        Get predicted funding rates for all futures trading pairs.


        Get the : 

        * `last_funding_rate` : latest hourly funding rate for all the markets
        for the last funding period (dt = 8h)

        * `est_funding_rate` : rolling average of all funding rates over the
        last 8 hours
      tags:
        - public
      parameters: []
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FundingRatesResponse'
  /v1/public/funding_rate/{symbol}:
    get:
      summary: Get Predicted Funding Rate for One Market
      deprecated: false
      description: |

        **Limit: 10 requests per 1 second per IP address**

        `GET /v1/public/funding_rate/{symbol}`

        Get latest funding rate for one market.
      tags:
        - public
      parameters:
        - name: symbol
          in: path
          description: ''
          required: true
          example: PERP_ETH_USDC
          schema:
            type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FundingRateResponse'
  /v1/public/funding_rate_history:
    get:
      summary: Get Funding Rate History for One Market
      deprecated: false
      description: |

        **Limit: 10 requests per 1 second per IP address**


        `GET /v1/public/funding_rate_history`


        Get funding rate history for one market.
      tags:
        - public
      parameters:
        - name: symbol
          in: query
          description: ''
          required: true
          example: PERP_NEAR_USDC
          schema:
            type: string
        - name: start_t
          in: query
          description: >-
            start time range that you wish to query, noted that the time stamp
            is a 13-digits timestamp.
          required: false
          example: ''
          schema:
            type: number
        - name: end_t
          in: query
          description: >-
            end time range that you wish to query, noted that the time stamp is
            a 13-digits timestamp.
          required: false
          example: ''
          schema:
            type: number
        - name: page
          in: query
          description: the page you wish to query.
          required: false
          example: ''
          schema:
            type: number
        - name: size
          in: query
          description: 'Default: 60'
          required: false
          example: ''
          schema:
            type: number
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FundingRateHistoryResponse'
  /v1/public/futures/{symbol}:
    get:
      summary: Get Futures Info for One Market
      deprecated: false
      description: |

        **Limit: 10 requests per 1 second per IP address**

        `GET /v1/public/futures/{symbol}`

        Get basic futures information for one market.
      tags:
        - public
      parameters:
        - name: symbol
          in: path
          description: ''
          required: true
          example: PERP_ETH_USDC
          schema:
            type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FuturesInfoResponse'
  /v1/public/liquidation:
    get:
      summary: Get Positions Under Liquidation
      deprecated: false
      description: |
        **Limit: 10 requests per 1 second per IP address**

        `GET /v1/public/liquidation`
      tags:
        - public
      parameters:
        - name: start_t
          in: query
          description: >-
            start time range that you wish to query, noted that the time stamp
            is a 13-digits timestamp.
          required: false
          example: ''
          schema:
            type: number
        - name: end_t
          in: query
          description: >-
            end time range that you wish to query, noted that the time stamp is
            a 13-digits timestamp.
          required: false
          example: ''
          schema:
            type: number
        - name: page
          in: query
          description: the page you wish to query.
          required: false
          example: ''
          schema:
            type: integer
        - name: size
          in: query
          description: 'Default: 60'
          required: false
          example: ''
          schema:
            type: integer
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LiquidationResponse'
  /v1/public/liquidated_positions:
    get:
      summary: Get Liquidated Positions Info
      deprecated: false
      description: |

        **Limit: 10 requests per 1 second per IP address**

        `GET /v1/public/liquidated_positions`
      tags:
        - public
      parameters:
        - name: symbol
          in: query
          description: ''
          required: false
          example: PERP_ETH_USDC
          schema:
            type: string
        - name: start_t
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: string
        - name: end_t
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: string
        - name: page
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: string
        - name: size
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LiquidatedPositionsResponse'
  /v1/public/info/{symbol}:
    get:
      summary: Get Exchange Information
      deprecated: false
      description: >
        **Limit: 10 requests per 1 second per IP address**


        `GET /v1/public/info/{symbol}`


        This endpoint provides all the values for the rules that an order need
        to fulfil in order for it to be placed successfully. The rules are
        defined as follows:


        Price filter


        - `price` >= `quote_min`

        - `price` <= `quote_max`

        - `(price - quote_min) % quote_tick` should equal to zero

        - `price` <= `asks[0].price * (1 + price_range)` when BUY

        - `price` >= `bids[0].price * (1 - price_range)` when SELL


        Size filter


        - `base_min` <= `quantity` <= `base_max`

        - `(quantity - base_min) % base_tick` should equal to zero


        Min Notional filter


        - `price * quantity` should greater than `min_notional`


        Risk Exposure filer


        - Order size should be within holding threshold. See
        [account_info](/build-on-evm/evm-api/restful-api/get-account-information)
      tags:
        - public
      parameters:
        - name: symbol
          in: path
          description: ''
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExchangeInformationResponse'
  /v1/public/token:
    get:
      summary: Get Token Info
      deprecated: false
      description: |
        **Limit: 10 requests per 1 second per IP address**

        `GET /v1/public/token`

        Retrives the available tokens to custody within Orderly Network.
      tags:
        - public
      parameters: []
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenInfoResponse'
  /v1/public/info:
    get:
      summary: Get Available Symbols
      deprecated: false
      description: >
        **Limit: 10 requests per 1 second per IP address**


        `GET /v1/public/info`


        Get available symbols that Orderly Network supports, and also send order
        rules for each symbol. The definition of rules can be found at [Exchange
        Information](/build-on-evm/evm-api/restful-api/public/get-exchange-information)
      tags:
        - public
      parameters: []
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AvailableSymbolsResponse'
  /v1/public/insurancefund:
    get:
      summary: Get Insurance Fund Info
      deprecated: false
      description: |

        **Limit: 10 requests per 1 second per IP address**

        `GET /v1/public/insurancefund`
      tags:
        - public
      parameters: []
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InsuranceFundResponse'
  /v1/tv/config:
    get:
      summary: Get TradingView Localized Config Info
      deprecated: false
      description: |
        **Limit: 10 requests per 1 second per IP address**

        `GET /v1/tv/config`
      tags:
        - public
      parameters:
        - name: locale
          in: query
          description: ''
          required: true
          example: ''
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TvConfigResponse'
  /v1/tv/history:
    get:
      summary: Get TradingView History Bars
      deprecated: false
      description: |
        **Limit: 10 requests per 1 second per IP address**

        `GET /v1/tv/history`
      tags:
        - public
      parameters:
        - name: symbol
          in: query
          description: ''
          required: true
          example: ''
          schema:
            type: string
        - name: resolution
          in: query
          description: ''
          required: true
          example: ''
          schema:
            type: string
        - name: from
          in: query
          description: ''
          required: true
          example: ''
          schema:
            type: string
        - name: to
          in: query
          description: ''
          required: true
          example: ''
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TvHistoryResponse'
  /v1/tv/symbol_info:
    get:
      summary: Get TradingView Symbol Info
      deprecated: false
      description: |
        **Limit: 10 requests per 1 second per IP address**

        `GET /v1/tv/symbol_info`
      tags:
        - public
      parameters:
        - name: group
          in: query
          description: ''
          required: true
          example: ''
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TvSymbolResponse'
  /v1/positions:
    get:
      summary: Get All Positions Info
      deprecated: false
      description: |
        **Limit: 30 requests per 10 second per user**

        `GET /v1/positions`
      tags:
        - private
      parameters:
      - $ref: '#/components/parameters/orderly_timestamp'
      - $ref: '#/components/parameters/orderly_account_id'
      - $ref: '#/components/parameters/orderly_key'
      - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PositionsResponse'
  /v1/position/{symbol}:
    get:
      summary: Get One Position Info
      deprecated: false
      description: |
        **Limit: 30 requests per 10 second per user**

        `GET /v1/position/{symbol}`
      tags:
        - private
      parameters:
        - name: symbol
          in: path
          description: ''
          required: true
          schema:
            type: string
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PositionResponse'
  /v1/funding_fee/history:
    get:
      summary: Get Funding Fee History
      deprecated: false
      description: |
        **Limit: 20 requests per 60 second per user**

        `GET /v1/funding_fee/history`

        Get funding fee history.
      tags:
        - private
      parameters:
        - name: symbol
          in: query
          description: ''
          required: true
          example: PERP_ETH_USDC
          schema:
            type: string
        - name: start_t
          in: query
          description: >-
            start time range that you wish to query, noted that the time stamp
            is a 13-digits timestamp.
          required: false
          example: ''
          schema:
            type: string
        - name: end_t
          in: query
          description: >-
            end time range that you wish to query, noted that the time stamp is
            a 13-digits timestamp.
          required: false
          example: ''
          schema:
            type: string
        - name: page
          in: query
          description: the page you wish to query.
          required: false
          example: ''
          schema:
            type: string
        - name: size
          in: query
          description: 'Default: 60'
          required: false
          example: ''
          schema:
            type: string
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FundingFeeHistoryResponse'
  /v1/client/liquidator_liquidations:
    get:
      summary: Get Liquidated Positions by Liquidator
      deprecated: false
      description: |
        **Limit: 10 requests per 1 second per IP address**

        `GET /v1/client/liquidator_liquidations`
      tags:
        - private
      parameters:
        - name: symbol
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: string
        - name: start_t
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: number
        - name: end_t
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: number
        - name: page
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: number
        - name: size
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: number
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LiquidatorLiquidationsResponse'
  /v1/client/leverage:
    post:
      summary: Update Leverage Setting
      deprecated: false
      description: |
        **Limit: 5 requests per 60 second per user**

        `POST /v1/client/leverage`

        Choose maximum leverage for futures mode
      tags:
        - private
      parameters:
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                leverage:
                  type: integer
                  description: One of 1,2,3,4,5,10,15,20
              required:
                - leverage
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmptyDataResponse'
  /v1/liquidations:
    get:
      summary: Get Liquidated Positions of Account
      deprecated: false
      description: |
        **Limit: 10 requests per 1 second per IP address**

        `GET /v1/liquidations`
      tags:
        - private
      parameters:
        - name: symbol
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: string
        - name: start_t
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: number
        - name: end_t
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: number
        - name: page
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: number
        - name: size
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: number
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LiquidationsResponse'
  /v1/liquidation:
    post:
      summary: Claim Liquidated Positions
      deprecated: false
      description: |
        **Limit: 5 requests per 1 second per IP address**

        `POST /v1/liquidation`
      tags:
        - private
      parameters:
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LiquidationBody'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PostLiquidationResponse'
  /v1/order:
    post:
      summary: Create Order
      deprecated: false
      description: >-
        **Limit: 10 requests per 1 second**


        `POST /v1/order`


        Place order maker/taker, the order executed information will be update
        from websocket stream.

        will response immediately with an order created message.


        `MARKET` type order behavior: it matches until the full size is
        executed. If the size is too large (larger than whole book) or the
        matching price exceeds the price limit (refer to `price_range`), then
        the remaining quantity will be cancelled.


        `IOC` type order behavior: it matches as much as possible at the
        order_price. If not fully executed, then remaining quantity will be
        cancelled.


        `FOK` type order behavior: if the order can be fully executed at the
        order_price then the order gets fully executed otherwise would be
        cancelled without any execution.


        `POST_ONLY` type order behavior: if the order will be executed with any
        maker trades at the time of placement, then it will be cancelled without
        any execution.


        `ASK` type order behavior: the order price is guranteed to be the best
        ask price of the orderbook at the time it gets accepted.


        `BID` type order behavior: the order price is guranteed to be the best
        bid price of the orderbook at the time it gets accepted.


        `visible_quantity` behavior: it sets the maximum quantity to be shown on
        orderbook. By default, it is equal to order_quantity, negative number
        and number larger than `order_quantity` is not allowed. If it sets to 0,
        the order would be hidden from the orderbook. It doesn't work for
        `MARKET`/`IOC`/`FOK` orders since orders with these types would be
        executed and cancelled immediately and not be shown on orderbook. For
        `LIMIT`/`POST_ONLY` order, as long as it's not complete,
        `visible_quantity` is the maximum quantity that shown on orderbook.


        `order_amount` behavior: for `MARKET`/`BID`/`ASK` order, order can be
        placed by `order_amount` instead of `order_quantity`. It's the size of
        the order in terms of the quote currency instead of the base currency.
        The order would be rejected if  both `order_amount` and `order_quantity`
        are provided. The precision of the number should be within 8 digits.


        `client_order_id` behavior: customized order_id, a unique id among open
        orders. Orders with the same `client_order_id` can be accepted only when
        the previous one if completed, otherwise the order will be rejected.


        For `MARKET`/`BID`/`ASK` order, `order_amount` is not supported when
        placing SELL order while `order_quantity` is not supported when placing
        BUY order.


        Note: This endpoint requires `trading` scope in Orderly Key.
      tags:
        - private
      parameters:
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PostOrderBody'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PostOrderResponse'
    delete:
      summary: Cancel Order
      deprecated: false
      description: |
        **Limit: 10 requests per 1 second**

        `DELETE /v1/order?order_id={order_id}&symbol={symbol}`

        Cancels a single order by `order_id`.

        Note: This endpoint requires `trading` scope in Orderly Key.
      tags:
        - private
      parameters:
        - name: symbol
          in: query
          description: ''
          required: true
          example: ''
          schema:
            type: string
        - name: order_id
          in: query
          description: ''
          required: true
          example: ''
          schema:
            type: number
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteOrderResponse'
    put:
      summary: Edit Order
      deprecated: false
      description: >-
        **Limit: 10 request per 1 second**


        `PUT /v1/order`


        Edit a pending order by `order_id`. Only the `order_price` or
        `order_quantity` can be amended.


        Note: This endpoint requires `trading` scope in Orderly Key.
      tags:
        - private
      parameters:
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrderBody'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PutOrderResponse'
  /v1/order/{order_id}:
    get:
      summary: Get Order
      deprecated: false
      description: |
        **Limit: 10 requests per 1 second**

        `GET /v1/order/{order_id}`

        Get details of a single order by `order_id`.
      tags:
        - private
      parameters:
        - name: order_id
          in: path
          description: id of the order
          required: true
          schema:
            type: string
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderResponse'
  /v1/trades:
    get:
      summary: Get Trades
      deprecated: false
      description: |
        **Limit: 10 requests per 1 second**

        `GET /v1/trades`

        Return clientâ€™s trades history within a time range.
      tags:
        - private
      parameters:
        - name: symbol
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: string
        - name: broker_id
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: string
        - name: start_t
          in: query
          description: >-
            start time range that wish to query, noted the time stamp is
            13-digits timestamp.
          required: false
          example: ''
          schema:
            type: number
        - name: end_t
          in: query
          description: >-
            end time range that wish to query, noted the time stamp is 13-digits
            timestamp.
          required: false
          example: ''
          schema:
            type: number
        - name: page
          in: query
          description: the page you wish to query.
          required: false
          example: ''
          schema:
            type: number
        - name: size
          in: query
          description: 'the page size you wish to query. (max: 500)'
          required: false
          example: ''
          schema:
            type: number
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TradesResponse'
  /v1/client/holding:
    get:
      summary: Get Current Holding
      deprecated: false
      description: |
        **Limit: 10 requests per 1 seconds**

        `GET /v1/client/holding`

        Get the current summary of user token holdings.
      tags:
        - private
      parameters:
        - name: all
          in: query
          description: >-
            true/false. If true then will return all token even if balance is
            empty.
          required: false
          example: ''
          schema:
            type: boolean
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClientHoldingResponse'
  /v1/client/info:
    get:
      summary: Get Account Information
      deprecated: false
      description: |
        **Limit: 10 requests per 60 seconds**

        `GET /v1/client/info`

        Get basic account information including current user fee rates.
      tags:
        - private
      parameters:
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClientInfoResponse'
  /v1/orders:
    get:
      summary: Get Orders
      deprecated: false
      description: >
        **Limit: 10 requests per 1 second**


        `GET /v1/orders`


        Get orders by customized filters.


        For filter by status, one can reference special bundled statuses below
        for ease of access of Open (ie `INCOMPLETE`) orders or `COMPLETED`
        orders.


        - `INCOMPLETE` = `NEW` + `PARTIAL_FILLED`

        - `COMPLETED` = `CANCELLED` + `FILLED`
      tags:
        - private
      parameters:
        - name: symbol
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: string
        - name: side
          in: query
          description: '`BUY`/`SELL`'
          required: false
          example: ''
          schema:
            type: string
        - name: order_type
          in: query
          description: '`LIMIT`/`MARKET`'
          required: false
          example: ''
          schema:
            type: string
        - name: status
          in: query
          description: >-
            `NEW`/`CANCELLED`/`PARTIAL_FILLED`/`FILLED`/`REJECTED`/`INCOMPLETE`/`COMPLETED`
          required: false
          example: ''
          schema:
            type: string
        - name: start_t
          in: query
          description: >-
            start time range that wish to query, noted the time stamp is
            13-digits timestamp.
          required: false
          example: ''
          schema:
            type: number
        - name: end_t
          in: query
          description: >-
            end time range that wish to query, noted the time stamp is 13-digits
            timestamp.
          required: false
          example: ''
          schema:
            type: number
        - name: page
          in: query
          description: the page you wish to query.
          required: false
          example: ''
          schema:
            type: number
        - name: size
          in: query
          description: 'the page size you wish to query (max: 500)'
          required: false
          example: ''
          schema:
            type: number
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrdersResponse'
    delete:
      summary: Cancel Orders in Bulk
      deprecated: false
      description: >
        **Limit: 10 requests per 1 second**


        `DELETE /v1/orders?symbol={symbol}`


        Cancel a list of orders, filtered by `symbol` optionally. This request
        will cancel all open orders within the filter criteria, and will cancel
        all open orders if no filter is provided.


        Note: This endpoint requires `trading` scope in Orderly Key.
      tags:
        - private
      parameters:
        - name: symbol
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: string
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderStatusResponse'
  /v1/client/statistics:
    get:
      summary: Get User Statistics
      deprecated: false
      description: |
        **Limit: 10 requests per 60 seconds**

        `GET /v1/client/statistics`

        Get statistics of the user account
      tags:
        - private
      parameters:
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClientStatisticsResponse'
  /v1/asset/history:
    get:
      summary: Get Asset History
      deprecated: false
      description: |
        **Limit 10 requests per 60 seconds**

        `GET /v1/asset/history`

        Get asset history, including token deposits/withdrawals.
      tags:
        - private
      parameters:
        - name: token
          in: query
          description: token name you want to search
          required: false
          example: ''
          schema:
            type: string
        - name: side
          in: query
          description: '`DEPOSIT`/`WITHDRAW`'
          required: false
          example: ''
          schema:
            type: string
        - name: status
          in: query
          description: '`NEW`/`CONFIRM`/`PROCESSING`/`COMPLETED`/`FAILED`/`PENDING_REBALANCE`'
          required: false
          example: ''
          schema:
            type: string
        - name: start_t
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: number
        - name: end_t
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: number
        - name: page
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: number
        - name: size
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: number
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssetHistoryResponse'
  /v1/claim_insurance_fund:
    post:
      summary: Claim Insurance Fund
      deprecated: false
      description: |
        **Limit: 5 requests per 1 second**

        `POST /v1/claim_insurance_fund`
      tags:
        - private
      parameters:
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ClaimInsuranceFundBody'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClaimInsuranceFundResponse'
  /v1/public/system_info:
    get:
      summary: Get System Maintenance Status
      deprecated: false
      description: >-
        Retreive the current system maintenance status of Orderly Network. A
        return value of status = 0 means the system is functioning properly and
        a return value of status = 2 means the system is under maintenance.
      tags:
        - public
      parameters: []
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SystemInfoResponse'
  /v1/registration_nonce:
    get:
      summary: Get Registration Nonce
      deprecated: false
      description: >-
        **Limit: 10 requests per 1 second per IP address**


        `GET /v1/registration_nonce`


        Retrieve a nonce used for registering an account on Orderly Network. The
        validity of the nonce value is `2` minutes. Each nonce can only be used
        once (ie for one account).
      tags:
        - public
      parameters: []
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RegistrationNonceResponse'
  /v1/get_account:
    get:
      summary: Get Account
      deprecated: false
      description: |
        **Limit: 10 requests per 1 second per IP address**

        `GET /v1/get_account`

        Check whether a particular account is registered on Orderly Network.
      tags:
        - public
      parameters:
        - name: address
          in: query
          description: The address of the user wallet
          required: true
          example: ''
          schema:
            type: string
        - name: broker_id
          in: query
          description: The broker that the account is registered on
          required: true
          example: ''
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetAccountResponse'
  /v1/register_account:
    post:
      summary: Register Account
      deprecated: false
      description: >
        **Limit: 10 requests per 1 second per IP address**


        `POST /v1/register_account`


        Registers a new account to Orderly Network. Note an account is unique
        for each wallet address + broker id (ie the same wallet address can have
        multiple accounts with Orderly Network, 1 with each broker)
      tags:
        - public
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterAccountBody'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RegisterAccountResponse'
  /v1/get_orderly_key:
    get:
      summary: Get Orderly Key
      deprecated: false
      description: |
        **Limit: 10 requests per 1 second per IP address**

        `GET /v1/get_orderly_key`

        Check the validity of an Orderly access key attached to the account.
      tags:
        - public
      parameters:
        - name: account_id
          in: query
          description: The account id of the user.
          required: true
          example: ''
          schema:
            type: string
        - name: orderly_key
          in: query
          description: The public key of the Orderly access key.
          required: true
          example: ''
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetOrderlyKeyResponse'
  /v1/orderly_key:
    post:
      summary: Add Orderly Key
      deprecated: false
      description: |
        **Limit: 10 requests per 1 second per IP address**

        `POST /v1/orderly_key`

        Adds an Orderly access key to an account.
      tags:
        - public
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrderlyKeyBody'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderlyKeyResponse'
  /v1/public/config:
    get:
      summary: Get Leverage Configuration
      deprecated: false
      description: |

        **Limit: 10 requests per 1 second per IP address**

        `GET v1/public/config`
      tags:
        - public
      parameters: []
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConfigResponse'
  /v1/public/chain_info:
    get:
      summary: Get Vault Chain Config
      deprecated: false
      description: |
        **Limit: 10 requests per 1 second per IP address**

        `GET /v1/public/chain_info`
      tags:
        - public
      parameters: []
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChainInfoResponse'
  /v1/batch-order:
    post:
      summary: Batch Create Order
      deprecated: false
      description: >-
        **Limit: 1 request per 1 second**


        `POST /v1/batch-order`


        Creates a batch of orders as a list according to the same rules as a
        single Create Order.


        Parameters for each order within the batch will be the same as the
        create single order. The batch of orders should be sent as a JSON array
        containing all the orders. The maximum number of orders that can be sent
        in 1 batch order request is 10. Each order within the batch order
        request is counted as 1 order towards the overall create order rate
        limit.




        Note: This endpoint requires `trading` scope in Orderly Key.
      tags:
        - private
      parameters:
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/OrderBody'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchOrderResponse'
    delete:
      summary: Batch Cancel Orders
      deprecated: false
      description: >
        **Limit: 10 requests per 1 second**


        `DELETE /v1/batch-order?order_ids={order_id1},{order_id2}`


        Cancel a list of orders by `order_ids`. The maximum orders that can be
        cancelled within 1 batch cancel request is 10. 


        This endpoint will return invalid order_id error if 0 order_ids are
        given or all of the given order_ids are invalid. 


        Note: This endpoint requires `trading` scope in Orderly Key.
      tags:
        - private
      parameters:
        - name: order_ids
          in: query
          description: >-
            List of order_ids, comma-separated, with a maximum of 10 order ids
            per request.
          required: true
          example: ''
          schema:
            type: string
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderStatusResponse'
  /v1/client/order:
    delete:
      summary: Cancel Order By client_order_id
      deprecated: false
      description: >
        **Limit: 10 requests per 1 second**


        `DELETE
        /v1/client/order?client_order_id={client_order_id}&symbol={symbol}`


        Cancel an order by `client_order_id`.


        Note: This endpoint requires `trading` scope in Orderly Key.
      tags:
        - private
      parameters:
        - name: symbol
          in: query
          description: ''
          required: true
          example: ''
          schema:
            type: string
        - name: client_order_id
          in: query
          description: ''
          required: true
          example: ''
          schema:
            type: string
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderStatusResponse'
  /v1/client/batch-order:
    delete:
      summary: Batch Cancel Orders By client_order_id
      deprecated: false
      description: >
        **Limit: 10 requests per 1 second**


        `DELETE
        /v1/client/batch-order?client_order_ids={client_order_id1},{client_order_id2}`


        Cancel a list of orders by `client_order_ids`. The maximum orders that
        can be cancelled within 1 batch cancel request is 10.


        This endpoint will return invalid client_order_id error if 0
        client_order_ids are given or all of the given client_order_ids are
        invalid. 


        Note: This endpoint requires `trading` scope in Orderly Key.
      tags:
        - private
      parameters:
        - name: client_order_ids
          in: query
          description: >-
            List of client_order_ids, comma-separated, with a maximum of 10
            order ids per request.
          required: true
          example: ''
          schema:
            type: string
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderStatusResponse'
  /v1/client/order/{client_order_id}:
    get:
      summary: Get Order by client_order_id
      deprecated: false
      description: |
        **Limit: 10 requests per 1 second**

        `GET /v1/client/order/{client_order_id}`

        Get details of a single order by `client_order_id`.
      tags:
        - private
      parameters:
        - name: client_order_id
          in: path
          description: client_order_id of the order
          required: true
          schema:
            type: string
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClientOrderResponse'
  /v1/orderbook/{symbol}:
    get:
      summary: Orderbook Snapshot
      deprecated: false
      description: >
        **Limit: 10 requests per 1 second**


        `GET /v1/orderbook/{symbol}`


        Snapshot of the current orderbook. Price of asks/bids are in descending
        order.
      tags:
        - private
      parameters:
        - name: symbol
          in: path
          description: ''
          required: true
          example: PERP_BTC_USDC
          schema:
            type: string
        - name: max_level
          in: query
          description: the levels wish to show on both side.
          required: false
          example: ''
          schema:
            type: integer
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderbookResponse'
  /v1/kline:
    get:
      summary: Get Kline
      deprecated: false
      description: >

        **Limit: 10 requests per 1 second**


        `GET /v1/kline`


        Get the latest klines (OHLC) of the specified symbol.


        Please note that for symbols with low trading activity, the kline might
        be generated through the mid price of the orderbook in addition to any
        executed trades on the platform.
      tags:
        - private
      parameters:
        - name: symbol
          in: query
          description: ''
          required: true
          example: PERP_BTC_USDC
          schema:
            type: string
        - name: type
          in: query
          description: 1m/5m/15m/30m/1h/4h/12h/1d/1w/1mon/1y
          required: true
          example: ''
          schema:
            type: string
        - name: limit
          in: query
          description: Numbers of klines. Maximum of 1000 klines.
          required: false
          example: ''
          schema:
            type: number
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/KlineResponse'
  /v1/order/{order_id}/trades:
    get:
      summary: Get All Trades of Specific Order
      deprecated: false
      description: |
        **Limit: 10 requests per 1 second**

        `GET /v1/order/:order_id/trades`

        Get specific trades of an order by `order_id`.
      tags:
        - private
      parameters:
        - name: order_id
          in: path
          description: ''
          required: true
          schema:
            type: number
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderTradesResponse'
  /v1/trade/{trade_id}:
    get:
      summary: Get Trade
      deprecated: false
      description: |
        **Limit: 10 requests per 1 second**

        `GET /v1/trade/{trade_id}`

        Get specific transaction details by `trade_id`.
      tags:
        - private
      parameters:
        - name: trade_id
          in: path
          description: id of the trade
          required: true
          schema:
            type: number
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TradeResponse'
  /v1/client/maintenance_config:
    post:
      summary: Set Maintenance Config
      deprecated: false
      description: >
        **Limit: 10 requests per 60 seconds**


        `POST /v1/client/maintenance_config`


        Set the user config for whether the system should automatically cancel
        the user's pending orders during maintenance.
      tags:
        - private
      parameters:
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ClientMaintenanceConfigBody'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClientMaintenanceConfigResponse'
  /v1/volume/user/stats:
    get:
      summary: Get User Volume Statistics
      deprecated: false
      description: |-
        **Limit 10 requests per 60 seconds**

        `GET /v1/volume/user/stats`
      tags:
        - private
      parameters:
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VolumeStatsResponse'
  /v1/volume/user/daily:
    get:
      summary: Get User Daily Volume
      deprecated: false
      description: |
        **Limit 10 requests per 60 seconds**

        `GET /v1/volume/user/daily`
      tags:
        - private
      parameters:
        - name: start_date
          in: query
          description: Format YYYY-MM-DD
          required: true
          example: ''
          schema:
            type: string
        - name: end_date
          in: query
          description: Format YYYY-MM-DD
          required: true
          example: ''
          schema:
            type: string
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DailyVolumeResponse'
  /v1/withdraw_nonce:
    get:
      summary: Get Withdrawal Nonce
      deprecated: false
      description: >
        **Limit 10 requests per 1 seconds**


        `GET /v1/withdraw_nonce`


        Retrieve a nonce used for requesting a withdrawal on Orderly Network.
        Each nonce can only be used once.
      tags:
        - private
      parameters:
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WithdrawNonceReponse'
  /v1/settle_nonce:
    get:
      summary: Get Settle PnL Nonce
      deprecated: false
      description: >
        **Limit: 10 requests per 1 second**


        `GET /v1/settle_nonce`


        Retrieve a nonce used for requesting a withdrawal on Orderly Network.
        Each nonce can only be used once.
      tags:
        - private
      parameters:
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SettleNonceResponse'
  /v1/withdraw_request:
    post:
      summary: Create Withdraw Request
      deprecated: false
      description: >-
        **Limit: 10 requests per 1 second per IP address**


        `POST /v1/withdraw_request`


        `verifyingContract` should use:
        `0x6F7a338F2aA472838dEFD3283eB360d4Dff5D203`.


        This API will throw an error with message `22 - Cross-chain withdrawal
        required for this withdrawal request.` if `allow_cross_chain_withdrawal`
        is `false` while the request is a cross-chain request.
      tags:
        - private
      parameters:
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WithdrawRequestBody'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BasicResponse'
  /v1/settle_pnl:
    post:
      summary: Request PnL Settlement
      deprecated: false
      description: >
        **Limit: 1 requests per 1 second**


        `POST /v1/settle_pnl`


        `verifyingContract` should use:
        `0x6F7a338F2aA472838dEFD3283eB360d4Dff5D203`.
      tags:
        - private
      parameters:
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SettlePnlBody'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SettlePnlResponse'
              examples:
                "1":
                  summary: Successful examples
                  value:
                    success: true
                    data:
                      settle_pnl_id: 889
                    timestamp: 1692246987774
  /v1/pnl_settlement/history:
    get:
      summary: Get PnL Settlement History
      deprecated: false
      description: |
        **Limit: 20 requests per 1 second**

        `GET /v1/pnl_settlement/history`

        Retrieve the historical PnL settlement history of the account.
      tags:
        - private
      parameters:
        - name: start_t
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: integer
        - name: end_t
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: integer
        - name: page
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: integer
        - name: size
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: integer
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PnlSettlementHistoryResponse'
  /v1/client/key_info:
    get:
      summary: Get Current Orderly Key Info
      deprecated: false
      description: |
        **Limit 10 requests per 60 seconds**

        `GET /v1/client/key_info`

        Retrieve all the registered Orderly key pairs under the account.
      tags:
        - private
      parameters:
        - name: key_status
          in: query
          description: Filter by the status of the key (ACTIVE / REMOVING / REMOVED)
          required: false
          example: ''
          schema:
            type: string
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/KeyInfoResponse'
  /v1/client/orderly_key_ip_restriction:
    get:
      summary: Get Orderly Key IP Restriction
      deprecated: false
      description: |
        **Limit 10 requests per 60 seconds**

        `GET /v1/client/orderly_key_ip_restriction`

        Retrieves the current IP restriction of a particular Orderly key.
      tags:
        - private
      parameters:
        - name: orderly_key
          in: query
          description: The Orderly Key to query the IP restriction list
          required: true
          example: ''
          schema:
            type: string
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IpRestrictionResponse'
  /v1/client/set_orderly_key_ip_restriction:
    post:
      summary: Set Orderly Key IP Restriction
      deprecated: false
      description: |
        **Limit: 10 requests per 60 seconds**

        `POST /v1/client/set_orderly_key_ip_restriction`

        Set the IP restrictions of a particular Orderly key under the account.
      tags:
        - private
      parameters:
        - name: orderly_key
          in: query
          description: The Orderly Key to set the IP restriction list.
          required: true
          example: ''
          schema:
            type: string
        - name: ip_restriction_list
          in: query
          description: >-
            List of IP or IP ranges (comma separated), that will be allowed to
            place orders with the orderly_key.
          required: true
          example: ''
          schema:
            type: string
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SetIpRestrictionResponse'
  /v1/client/reset_orderly_key_ip_restriction:
    post:
      summary: Reset Orderly Key IP Restriction
      deprecated: false
      description: |
        **Limit: 10 requests per 60 seconds**

        `POST /v1/client/reset_orderly_key_ip_restriction`

        Reset the IP restriction of a particular Orderly key under the account.
      tags:
        - private
      parameters:
        - name: orderly_key
          in: query
          description: The Orderly Key to set the IP restriction list
          required: true
          example: ''
          schema:
            type: string
        - name: reset_mode
          in: query
          description: >-
            The new mode of the IP restriction for this Orderly Key
            (ALLOW_ALL_IPS, DISALLOW_ALL_IPS).
          required: true
          example: ''
          schema:
            type: string
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BasicResponse'
  /v1/notification/inbox/notifications:
    get:
      summary: Get All Notifications
      deprecated: false
      description: |
        **Limit: 10 requests per 60 seconds**

        `GET /v1/notification/inbox/notifications`

        Get all notifications for the user.

        Currently the only supported message type is the order filled message.
      tags:
        - private
      parameters:
        - name: type
          in: query
          description: Filter nofications by type (TRADE / SYSTEM).
          required: false
          example: ''
          schema:
            type: string
        - name: page
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: number
        - name: size
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: number
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AllNotificationsResponse'
  /v1/notification/inbox/unread:
    get:
      summary: Get Unread Notifications
      deprecated: false
      description: |
        **Limit: 10 requests per 60 seconds**

        `GET /v1/notification/inbox/unread`

        Get the information on unread messages for the user.
      tags:
        - private
      parameters:
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnreadNotificationsResponse'
  /v1/notification/inbox/mark_read:
    post:
      summary: Set Read Status of Notifications
      deprecated: false
      description: |
        **Limit: 10 requests per 60 seconds**

        `POST /v1/notification/inbox/mark_read`

        Set the read status on a list of notifications for a user.
      tags:
        - private
      parameters:
        - name: flag
          in: query
          description: The value of the read flag, where 1 = READ and 0 = UNREAD
          required: true
          example: ''
          schema:
            type: number
        - name: ids
          in: query
          description: The list of notification ids to flag as read/unread.
          required: true
          example: ''
          schema:
            type: array
            items:
              type: string
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BasicResponse'
  /v1/notification/inbox/mark_read_all:
    post:
      summary: Set Read Status of All Notifications
      deprecated: false
      description: |
        **Limit: 10 requests per 60 seconds**

        `POST /v1/notification/inbox/mark_read_all`

        Set the read status on all notifications for a user.
      tags:
        - private
      parameters:
        - name: flag
          in: query
          description: The value of the read flag, where 1 = READ and 0 = UNREAD
          required: true
          example: ''
          schema:
            type: number
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BasicResponse'
  /v1/public/vault_balance:
    get:
      summary: Get Vault Balance
      deprecated: false
      description: ''
      tags:
        - public
      parameters:
        - name: chain_id
          in: query
          description: id of the chain you wish to query
          required: false
          example: ''
          schema:
            type: string
        - name: token
          in: query
          description: the token you wish to query
          required: false
          example: ''
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VaultBalanceResponse'
  /v1/faucet/usdc:
    get:
      summary: Get Faucet USDC(Testnet Only)
      deprecated: false
      description: >-
        `GET https://testnet-operator-evm.orderly.org/v1/faucet/usdc`


        Receive 1,000 USDC in the Testnet environment. Each account may only use
        the faucet a maximum of 5 times.


        This API is only available on Testnet so make sure to use Testnet domain
        as above instead of Mainnet domain.
      tags:
        - public
      parameters:
        - name: chain_id
          in: query
          description: The chain ID that the test USDC should be deposited to
          required: true
          example: ''
          schema:
            type: string
        - name: user_address
          in: query
          description: The address of the user account
          required: true
          example: ''
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BasicResponse'
  /v1/algo/order:
    post:
      summary: Create Algo Order
      deprecated: false
      description: >-
        **Limit: 10 requests per 1 second**


        `POST /v1/algo/order`


        Place maker/taker order that requires an additional trigger for order
        execution such as stop orders.


        `STOP` type order bahavior: an order to buy or sell at the market price
        once the asset has traded at or through a specified price (the "stop
        price"). If the asset reaches the stop price, the order becomes a market
        order and is filled at the next available market price.


        Note: This endpoint requires trading scope in Orderly Key.
      tags:
        - private
      parameters:
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                symbol:
                  type: string
                algo_type:
                  type: string
                  description: Only `STOP` is available for now
                client_order_id:
                  type: string
                  description: '36 length, default: null'
                type:
                  type: string
                  description: LIMIT/MARKET
                price:
                  type: number
                quantity:
                  type: number
                  description: >-
                    For MARKET/ASK/BID order, if order_amount is given, it is
                    not required.
                trigger_price_type:
                  type: number
                  description: Only MARK_PRICE is available for now.
                trigger_price:
                  type: number
                reduce_only:
                  type: boolean
                visible_quantity:
                  type: boolean
                  description: Default false
                side:
                  type: string
                  description: '`SELL`/`BUY`'
                order_tag:
                  type: string
              required:
                - symbol
                - type
                - algo_type
                - side
                - quantity
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PostOrderResponse'
    put:
      summary: Edit Algo Order
      deprecated: false
      description: >-
        **Limit: 10 requests per 1 second**


        `PUT /v1/algo/order`


        Edit a pending algo order by `order_id`. Only the price or quantity can
        be amended.


        Note: This endpoint requires trading scope in Orderly Key.
      tags:
        - private
      parameters:
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                order_id:
                  type: string
                price:
                  type: number
                quantity:
                  type: number
                trigger_price:
                  type: number
              required:
                - order_id
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PutOrderResponse'
    delete:
      summary: Cancel Algo Order
      deprecated: false
      description: |
        **Limit: 10 requests per 1 second**

        `DELETE /v1/algo/order?order_id={order_id}&symbol={symbol}`

        Cancels a single algo order by `order_id`.
      tags:
        - private
      parameters:
        - name: symbol
          in: query
          description: ''
          required: true
          example: ''
          schema:
            type: string
        - name: order_id
          in: query
          description: ''
          required: true
          example: ''
          schema:
            type: number
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteOrderResponse'
  /v1/algo/client/order:
    delete:
      summary: Cancel Algo Order By client_order_id
      deprecated: false
      description: >-
        **Limit: 10 requests per 1 second**


        `DELETE
        /v1/algo/client/order?client_order_id={client_order_id}&symbol={symbol}`


        Cancel an algo order by `client_order_id`.
      tags:
        - private
      parameters:
        - name: symbol
          in: query
          description: ''
          required: true
          example: ''
          schema:
            type: string
        - name: client_order_id
          in: query
          description: ''
          required: true
          example: ''
          schema:
            type: string
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderStatusResponse'
  /v1/algo/orders:
    delete:
      summary: Cancel All Pending Algo Orders
      deprecated: false
      description: |-
        **Limit: 10 requests per 1 second**

        `DELETE /v1/algo/orders?symbol={symbol}`

        Cancel all pending algo orders.
      tags:
        - private
      parameters:
        - name: symbol
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: string
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderStatusResponse'
    get:
      summary: Get Algo Orders
      deprecated: false
      description: >-
        **Limit: 10 requests per 1 second**


        `GET /v1/algo/orders`


        Get algo order details by customized filters.


        For filter by status, one can reference special bundled statuses below
        for ease of access of Open (i.e `INCOMPLETE`) orders or `COMPLETED`
        orders.


        `INCOMPLETE` = `NEW` + `PARTIAL_FILLED`



        `COMPLETED` = `CANCELLED` + `FILLED`
      tags:
        - private
      parameters:
        - name: symbol
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: string
        - name: order_type
          in: query
          description: '`LIMIT`/`MARKET`'
          required: false
          example: ''
          schema:
            type: string
        - name: status
          in: query
          description: >-
            `NEW`/`CANCELLED`/`PARTIAL_FILLED`/`FILLED`/`REJECTED`/`INCOMPLETE`/`COMPLETED`
          required: false
          example: ''
          schema:
            type: string
        - name: start_t
          in: query
          description: >-
            start time range that wish to query, noted the time stamp is
            13-digits timestamp.
          required: false
          example: ''
          schema:
            type: number
        - name: end_t
          in: query
          description: >-
            end time range that wish to query, noted the time stamp is 13-digits
            timestamp.
          required: false
          example: ''
          schema:
            type: number
        - name: page
          in: query
          description: the page you wish to query.
          required: false
          example: ''
          schema:
            type: number
        - name: size
          in: query
          description: 'the page size you wish to query (max: 500)'
          required: false
          example: ''
          schema:
            type: number
        - name: side
          in: query
          description: '`BUY`/`SELL`'
          required: false
          example: ''
          schema:
            type: string
        - name: algo_type
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: string
        - name: is_triggered
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: string
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AlgoOrdersResponse'

  /v1/algo/order/{order_id}:
    get:
      summary: Get Algo Order
      deprecated: false
      description: |-
        **Limit: 10 requests per 1 second**

        `GET /v1/algo/order/{order_id}`

        Get details of a single algo order by order_id.
      tags:
        - private
      parameters:
        - name: order_id
          in: path
          description: id of the order
          required: true
          schema:
            type: string
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AlgoOrderResponse'
  /v1/algo/client/order/{client_order_id}:
    get:
      summary: Get Algo Order by client_order_id
      deprecated: false
      description: |
        **Limit: 10 requests per 1 second**

        `GET /v1/algo/client/order/{client_order_id}`

        Get details of a single algo order by `client_order_id`.
      tags:
        - private
      parameters:
        - name: client_order_id
          in: path
          description: client_order_id of the order
          required: true
          schema:
            type: string
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AlgoClientOrderResponse'
  /v1/algo/order/{order_id}/trades:
    get:
      summary: Get All Trades of Specific Algo Order
      deprecated: false
      description: |
        **Limit: 10 requests per 1 second**

        `GET /v1/algo/order/{order_id}/trades`

        Get specific trades of an algo order by `order_id`.
      tags:
        - private
      parameters:
        - name: order_id
          in: path
          description: ''
          required: true
          schema:
            type: number
        - $ref: '#/components/parameters/orderly_timestamp'
        - $ref: '#/components/parameters/orderly_account_id'
        - $ref: '#/components/parameters/orderly_key'
        - $ref: '#/components/parameters/orderly_signature'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AlgoOrderTradesResponse'
  /v1/public/account:
    get:
      summary: Get Account Details
      deprecated: false
      description: |-
        **Limit: 10 requests per 1 second per IP address**

        `GET /v1/public/account`

        Get account details of given address
      tags:
        - public
      parameters:
        - name: account_id
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetAccountDetailsResponse'
  /v1/volume/broker/daily:
    get:
      summary: Get Broker Daily Volume
      deprecated: false
      description: >
        **Limit 10 requests per 60 seconds**


        `GET /v1/volume/broker/daily`


        Get the daily historical breakdown of the user trading volume on
        specified broker.


        The provided `start_date`/`end_date` has to be within a 90-day range.
      tags:
        - private
      parameters:
        - name: start_date
          in: query
          description: Format YYYY-MM-DD
          required: true
          example: ''
          schema:
            type: string
        - name: end_date
          in: query
          description: Format YYYY-MM-DD
          required: true
          example: ''
          schema:
            type: string
        - name: address
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: string
        - name: order_tags
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: string
        - name: aggregateBy
          in: query
          description: "Either by `DATE` or by `ACCOUNT`"
          required: false
          example: ''
          schema:
            type: string
        - name: orderly-timestamp
          in: header
          description: ''
          required: true
          example: '1649920583000'
          schema:
            type: string
        - name: orderly-account-id
          in: header
          description: ''
          required: true
          example: '0x0f29bfb4c1bc9fea3f3be46bab6d795e22a6272354b136fde05f6b80cfcad546'
          schema:
            type: string
        - name: orderly-key
          in: header
          description: ''
          required: true
          example: ed25519:8tm7dnKYkSc3FzgPuJaw1wztr79eeZpN35nHW5pL5XhX
          schema:
            type: string
        - name: orderly-signature
          in: header
          description: ''
          required: true
          example: >-
            dG4bkKiqG0dUYLzViRZkvbI6Sy239JxAdNMIBxFZ4w030Jofr0ORV06GHtvXZkaZaWUXE+XAU3fnzKN/5fDeBQ==
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetBrokerDailyResponse'
  /v1/client/statistics/daily:
    get:
      summary: Get User Daily Statistics
      deprecated: false
      description: |
        **Limit 10 requests per 60 seconds**

        `GET /v1/client/statistics/daily`

        Get user daily statistics of assets/pnl/volume.
      tags:
        - private
      parameters:
        - name: start_date
          in: query
          description: Format YYYY-MM-DD
          required: true
          example: ''
          schema:
            type: string
        - name: end_date
          in: query
          description: Format YYYY-MM-DD
          required: true
          example: ''
          schema:
            type: string
        - name: page
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: number
        - name: size
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: number
        - name: orderly-timestamp
          in: header
          description: ''
          required: true
          example: '1649920583000'
          schema:
            type: string
        - name: orderly-account-id
          in: header
          description: ''
          required: true
          example: '0x0f29bfb4c1bc9fea3f3be46bab6d795e22a6272354b136fde05f6b80cfcad546'
          schema:
            type: string
        - name: orderly-key
          in: header
          description: ''
          required: true
          example: ed25519:8tm7dnKYkSc3FzgPuJaw1wztr79eeZpN35nHW5pL5XhX
          schema:
            type: string
        - name: orderly-signature
          in: header
          description: ''
          required: true
          example: >-
            dG4bkKiqG0dUYLzViRZkvbI6Sy239JxAdNMIBxFZ4w030Jofr0ORV06GHtvXZkaZaWUXE+XAU3fnzKN/5fDeBQ==
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetUserDailyStatsResponse'
  /v1/broker/user_info:
    get:
      summary: Get User Fee Tier
      deprecated: false
      description: ''
      tags:
        - private
      parameters:
        - name: account_id
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: string
        - name: address
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: string
        - name: page
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: string
        - name: size
          in: query
          description: ''
          required: false
          example: ''
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserFeeTierResponse'

  /v1/broker/fee_rate/set:
    post:
      summary: Update User Fee Rate
      deprecated: false
      description: |
        **Limit: 1 requests per second**

        `POST /v1/broker/fee_rate/set`
      tags:
        - private
      parameters:
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                maker_fee_rate:
                  type: number
                  description: "Maker fee charged to users by default (0.0001 = 0.01%)"
                taker_fee_rate:
                  type: number
                  description: "Taker fee charged to users by default (0.0001 = 0.01%)"
                account_ids:
                  type: array
                  description: "List of account_ids for which the fees need to be changed"
              required:
                - maker_fee_rate
                - taker_fee_rate
                - account_ids
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BasicResponse'

  /v1/broker/fee_rate/set_default:
    post:
      summary: Update User Fee Rate
      deprecated: false
      description: |
        **Limit: 1 requests per second**

        `POST /v1/broker/fee_rate/set_default`
      tags:
        - private
      parameters:
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                account_ids:
                  type: array
                  description: "List of account_ids for which the fees need to be changed"
              required:
                - account_ids
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BasicResponse'

  /v1/referral/create:
    post:
      summary: Create Referral Code
      deprecated: false
      description: |
        **Limit: 1 requests per second**

        `POST /v1/broker/fee_rate/set_default`
      tags:
        - private
      parameters:
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                account_id:
                  type: string
                  description: the account id of the referrer
                referral_code:
                  type: string
                  description: the referral code that admin wants to create
                max_rebate_rate:
                  type: number
                  description: the referral codeâ€™s rebate rate (max 1)
                referrer_rebate_rate:
                  type: number
                  description: rebate rate of referrer
                referee_rebate_rate:
                  type: number
                  description: rebate rate of referee
              required:
                - account_id
                - referral_code
                - max_rebate_rate
                - referrer_rebate_rate
                - referee_rebate_rate
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BasicResponse'

  /v1/referral/admin_info:
    get:
      summary: Get Referral Code Info
      deprecated: false
      description: |
        **Limit: 10 requests per second**

        `GET /v1/referral/admin_info`
      tags:
        - private
      parameters:
        - name: page
          in: query
          description:
          required: false
          example: ''
          schema:
            type: string
        - name: size
          in: query
          description:
          required: false
          example: ''
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetReferralCodeResponse'
components:
  parameters:
    orderly_timestamp:
      name: orderly-timestamp
      in: header
      description: ""
      required: true
      style: simple
      explode: false
      schema:
        type: string
      example: "1649920583000"
    orderly_account_id:
      name: orderly-account-id
      in: header
      description: ""
      required: true
      style: simple
      explode: false
      schema:
        type: string
      example: 0x0f29bfb4c1bc9fea3f3be46bab6d795e22a6272354b136fde05f6b80cfcad546
    orderly_key:
      name: orderly-key
      in: header
      description: ""
      required: true
      style: simple
      explode: false
      schema:
        type: string
      example: ed25519:8tm7dnKYkSc3FzgPuJaw1wztr79eeZpN35nHW5pL5XhX
    orderly_signature:
      name: orderly-signature
      in: header
      description: ""
      required: true
      style: simple
      explode: false
      schema:
        type: string
      example: dG4bkKiqG0dUYLzViRZkvbI6Sy239JxAdNMIBxFZ4w030Jofr0ORV06GHtvXZkaZaWUXE+XAU3fnzKN/5fDeBQ==

  schemas:
    BasicResponse:
      required:
      - success
      - timestamp
      type: object
      properties:
        success:
          type: boolean
          example: true
        timestamp:
          type: integer
          example: 1702989203989

    EmptyDataResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              properties: {}

    PaginationMeta:
      required:
      - current_page
      - records_per_page
      - total
      type: object
      properties:
        total:
          type: integer
          example: 9
        records_per_page:
          type: integer
          example: 25
        current_page:
          type: integer
          example: 1

    FuturesInfoResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - rows
              properties:
                rows:
                  type: array
                  items:
                    $ref: '#/components/schemas/FutureInfo'

    FutureInfoResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              $ref: '#/components/schemas/FutureInfo'

    FutureInfo:
      type: object
      required:
      - 24h_amount
      - 24h_close
      - 24h_high
      - 24h_low
      - 24h_open
      - 24h_volume
      - est_funding_rate
      - index_price
      - last_funding_rate
      - mark_price
      - next_funding_time
      - open_interest
      - sum_unitary_funding
      - symbol
      properties:
        symbol:
          type: string
          example: "PERP_ETH_USDC"
        index_price:
          type: number
          example: 1901.6
        mark_price:
          type: integer
          example: 1950
        sum_unitary_funding:
          type: number
          example: 387.891
        est_funding_rate:
          type: number
          example: 4.6875E-4
        last_funding_rate:
          type: number
          example: 4.6875E-4
        next_funding_time:
          type: integer
          example: 1683270060000
        open_interest:
          type: string
          example: "None"
        24h_open:
          type: integer
          example: 2115
        24h_close:
          type: integer
          example: 2115
        24h_high:
          type: integer
          example: 2115
        24h_low:
          type: integer
          example: 2115
        24h_amount:
          type: integer
          example: 0
        24h_volume:
          type: integer
          example: 0

    FuturesFeeProgramResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
            - data
          properties:
            data:
              type: object
              required:
                - rows
              properties:
                rows:
                  type: array
                  items:
                    type: object
                    required:
                      - maker_fee
                      - taker_fee
                      - tier
                      - volume_max
                      - volume_min
                    properties:
                      tier:
                        type: string
                        example: "1"
                      maker_fee:
                        type: string
                        example: "0.1%"
                      taker_fee:
                        type: string
                        example: "0.1%"
                      volume_min:
                        type: integer
                        description: minimum 30-day volume (in USDC) required for eligibility of this tier
                        example: 100
                      volume_max:
                        type: integer
                        example: 500000

    FeeProgramResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - rows
              properties:
                rows:
                  type: array
                  items:
                    type: object
                    required:
                    - maker_fee
                    - taker_fee
                    - tier
                    - volume_min
                    properties:
                      tier:
                        type: string
                        example: "1"
                      maker_fee:
                        type: string
                        example: "0.1%"
                      taker_fee:
                        type: string
                        example: "0.1%"
                      volume_min:
                        type: integer
                        description: minimum 30-day volume (in USDC) required for eligibility of this tier
                        example: 100
                      volume_max:
                        type: integer
                        example: 500000

    MarketTradesResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - rows
              properties:
                rows:
                  type: array
                  items:
                    type: object
                    required:
                    - symbol
                    - side
                    - executed_price
                    - executed_quantity
                    - executed_timestamp
                    properties:
                      symbol:
                        type: string
                        example: "PERP_ETH_USDC"
                      side:
                        type: string
                        example: "BUY"
                      executed_price:
                        type: number
                        example: 2050
                      executed_quantity:
                        type: number
                        example: 1
                      executed_timestamp:
                        type: number
                        example: 1683878609166

    VolumeStatsResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: array
              items:
                type: object
                properties:
                  perp_volume_ytd:
                    type: number
                    example: 274148.0364
                  perp_volume_ltd:
                    type: number
                    example: 274148.0364
                  perp_volume_last_7_days:
                    type: number
                    example: 120272.7674
                  perp_volume_last_30_days:
                    type: number
                    example: 300730.5454

    BrokerListResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - rows
              properties:
                rows:
                  type: array
                  items:
                    type: object
                    required:
                    - broker_id
                    - broker_name
                    properties:
                      broker_id:
                        type: string
                        example: "woofi_dex"
                      broker_name:
                        type: string
                        example: "WOOFi DEX"

    FundingRatesResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - rows
              properties:
                rows:
                  type: array
                  items:
                    $ref: '#/components/schemas/FundingRate'

    FundingRateResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              $ref: '#/components/schemas/FundingRate'

    FundingRate:
      required:
      - est_funding_rate
      - est_funding_rate_timestamp
      - last_funding_rate
      - last_funding_rate_timestamp
      - next_funding_time
      - sum_unitary_funding
      - symbol
      type: object
      properties:
        symbol:
          type: string
          example: "PERP_ETH_USDC"
        est_funding_rate:
          type: integer
          example: 0
        est_funding_rate_timestamp:
          type: integer
          example: 1683880020000
        last_funding_rate:
          type: number
          example: 1.0E-4
        last_funding_rate_timestamp:
          type: integer
          example: 1683878400000
        next_funding_time:
          type: integer
          example: 1683907200000
        sum_unitary_funding:
          type: number
          example: 521.367

    FundingRateHistoryResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - meta
              - rows
              properties:
                rows:
                  type: array
                  items:
                    type: object
                    required:
                    - funding_rate
                    - funding_rate_timestamp
                    - next_funding_time
                    - symbol
                    properties:
                      symbol:
                        type: string
                        example: "PERP_ETH_USDC"
                      funding_rate:
                        type: number
                        example: 1.0E-4
                      funding_rate_timestamp:
                        type: integer
                        example: 1684224000000
                      next_funding_time:
                        type: integer
                        example: 1684252800000
                meta:
                  $ref: '#/components/schemas/PaginationMeta'

    LiquidationResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - meta
              - rows
              properties:
                meta:
                  $ref: '#/components/schemas/PaginationMeta'
                rows:
                  type: array
                  items:
                    type: object
                    properties:
                      timestamp:
                        type: integer
                        example: 1685298157704
                      type:
                        type: string
                        example: "liquidated"
                      liquidation_id:
                        type: integer
                        example: 1730
                      positions_by_perp:
                        type: array
                        items:
                          # TODO different from PerpPosition?
                          type: object
                          properties:
                            symbol:
                              type: string
                              example: "PERP_BTC_USDC"
                            position_qty:
                              type: number
                              example: -0.22457
                            liquidator_fee:
                              type: number
                              example: 0.015

    LiquidatedPositionsResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - meta
              - rows
              properties:
                meta:
                  $ref: '#/components/schemas/PaginationMeta'
                rows:
                  type: array
                  items:
                    required:
                    - timestamp
                    - liquidation_id
                    - transfer_amount_to_insurance_fund
                    - positions_by_perp
                    type: object
                    properties:
                      timestamp:
                        type: integer
                        example: 1683802462092
                      liquidation_id:
                        type: integer
                        example: 29
                      transfer_amount_to_insurance_fund:
                        type: integer
                        example: 0
                      type:
                        type: string
                        example: "liquidated"
                      positions_by_perp:
                        type: array
                        items:
                          # TODO different from PerpPosition?
                          type: object
                          required:
                          - abs_insurance_fund_fee
                          - abs_liquidation_fee
                          - cost_position_transfer
                          - insurance_fund_fee
                          - liquidator_fee
                          - position_qty
                          - symbol
                          - transfer_price
                          properties:
                            symbol:
                              type: string
                              example: "PERP_ETH_USDC"
                            position_qty:
                              type: integer
                              example: 0
                            liquidator_fee:
                              type: number
                              example: 0.015
                            cost_position_transfer:
                              type: integer
                              example: 0
                            transfer_price:
                              type: integer
                              example: 1860
                            insurance_fund_fee:
                              type: number
                              example: 0.011999
                            abs_liquidation_fee:
                              type: number
                              example:
                            abs_insurance_fund_fee:
                              type: integer
                              example: 0
                            abs_liquidator_fee:
                              type: integer
                              example: 0

    ExchangeInformationResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              $ref: '#/components/schemas/Symbol'

    TokenInfoResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - rows
              properties:
                rows:
                  type: array
                  items:
                    type: object
                    properties:
                      # TODO example
                      token:
                        type: string
                        description: name of token
                      token_account_id:
                        type: string
                        description: token account address on NEAR chain
                      decimals:
                        type: integer
                        description: precision of the token
                      minimum_increment:
                        type: number
                        description: minimum increment of the token on Orderly

    AvailableSymbolsResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - rows
              properties:
                rows:
                  type: array
                  items:
                    $ref: '#/components/schemas/Symbol'

    Symbol:
      type: object
      required:
      - base_imr
      - base_max
      - base_min
      - base_mmr
      - base_tick
      - cap_funding
      - claim_insurance_fund_discount
      - created_time
      - floor_funding
      - funding_period
      - interest_rate
      - liquidator_fee
      - min_notional
      - price_range
      - price_scope
      - quote_max
      - quote_min
      - quote_tick
      - std_liquidation_fee
      - symbol
      - updated_time
      properties:
        symbol:
          type: string
          example: "PERP_BTC_USDC"
        quote_min:
          type: integer
          example: 0
        quote_max:
          type: integer
          example: 100000
        quote_tick:
          type: number
          example: 0.1
        base_min:
          type: number
          example: 1.0E-5
        base_max:
          type: integer
          example: 20
        base_tick:
          type: number
          example: 1.0E-5
        min_notional:
          type: integer
          example: 1
        price_range:
          type: number
          example: 0.02
        price_scope:
          type: number
          example: 0.4
        std_liquidation_fee:
          type: number
          example: 0.03
        liquidator_fee:
          type: number
          example: 0.015
        claim_insurance_fund_discount:
          type: number
          example: 0.0075
        funding_period:
          type: integer
          example: 8
        cap_funding:
          type: number
          example: 3.75E-4
        floor_funding:
          type: number
          example: -3.75E-4
        interest_rate:
          type: number
          example: 1.0E-4
        created_time:
          type: integer
          example: 1684140107326
        updated_time:
          type: integer
          example: 1685345968053
        base_mmr:
          type: number
          example: 0.05
        base_imr:
          type: number
          example: 0.1

    InsuranceFundResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - balance
              - free_collateral
              - margin_ratio
              - min_insurance_fund_initial_margin_ratio
              - min_insurance_fund_margin_ratio
              - rows
              - total_account_value
              - total_collateral_value
              - total_pnl_24_h
              properties:
                min_insurance_fund_initial_margin_ratio:
                  type: number
                  example: 0.3
                min_insurance_fund_margin_ratio:
                  type: number
                  example: 0.25
                margin_ratio:
                  type: integer
                  example: 10
                total_collateral_value:
                  type: number
                  example: 1.0008662996861E7
                balance:
                  type: number
                  example: 1.0001908678983E7
                free_collateral:
                  type: number
                  example: 1.0008662996861E7
                total_account_value:
                  type: number
                  example: 1.0008662996861E7
                total_pnl_24_h:
                  type: integer
                  example: 0
                rows:
                  type: array
                  items:
                    type: object
                    required:
                    - symbol
                    - timestamp
                    - position_qty
                    - cost_position
                    - last_sum_unitary_funding
                    - settle_price
                    - average_open_price
                    - pnl_24_h
                    - fee_24_h
                    - mark_price
                    properties:
                      symbol:
                        type: string
                        example: "PERP_BTC_USDC"
                      timestamp:
                        type: integer
                        example: 1685262631606
                      position_qty:
                        type: integer
                        example: 0
                      cost_position:
                        type: number
                        example: -617.672835
                      last_sum_unitary_funding:
                        type: number
                        example: 100.56
                      settle_price:
                        type: integer
                        example: 0
                      average_open_price:
                        type: integer
                        example: 0
                      pnl_24_h:
                        type: integer
                        example: 0
                      fee_24_h:
                        type: integer
                        example: 0
                      mark_price:
                        type: number
                        example: 27821.8

    TvConfigResponse:
      type: object
      required:
      - d
      - s
      properties:
        s:
          type: string
        d:
          type: object
          required:
          - accountManager
          - accountSummaryRow
          - durations
          - orderCustomFields
          - orderHistoryCustomFields
          - positionCustomFields
          - pullingInterval
          properties:
            accountSummaryRow:
              type: array
              items:
                $ref: '#/components/schemas/AccountSummary'
            accountManager:
              type: array
              items:
                type: object
                properties:
                  id:
                    type: string
                  title:
                    type: string
                  columns:
                    type: array
                    items:
                      $ref: '#/components/schemas/AccountSummary'
            durations:
              type: array
              items:
                type: object
                properties:
                  id:
                    type: string
                  title:
                    type: string
                  hasDatePicker:
                    type: boolean
                  hasTimePicker:
                    type: boolean
                  default:
                    type: boolean
                  supportedOrderTypes:
                    type: array
                    items:
                      type: string
            orderCustomFields:
              type: array
              items:
                $ref: '#/components/schemas/OrderCustomField'
            orderHistoryCustomFields:
              type: array
              items:
                $ref: '#/components/schemas/OrderCustomField'
            positionCustomFields:
              type: array
              items:
                type: object
                required:
                - alignment
                - id
                - title
                - tooltip
                properties:
                  id:
                    type: string
                  title:
                    type: string
                  tooltip:
                    type: string
                  alignment:
                    type: string
            pullingInterval:
              type: object
              required:
              - accountManager
              - balances
              - orders
              - positions
              - quotes
              properties:
                quotes:
                  type: integer
                orders:
                  type: integer
                positions:
                  type: integer
                accountManager:
                  type: integer
                balances:
                  type: integer

    AccountSummary:
      type: object
      required:
      - id
      - title
      properties:
        id:
          type: string
        title:
          type: string

    OrderCustomField:
      type: object
      properties:
        id:
          type: string
        title:
          type: string
        tooltip:
          type: string
        alignment:
          type: string

    TvHistoryResponse:
      type: object
      required:
      - c
      - h
      - l
      - o
      - s
      - t
      - v
      properties:
        s:
          type: string
        t:
          type: array
          items:
            type: integer
        o:
          type: array
          items:
            oneOf:
            - type: integer
            - type: number
        h:
          type: array
          items:
            type: number
        l:
          type: array
          items:
            type: number
        c:
          type: array
          items:
            type: number
        v:
          type: array
          items:
            type: number

    TvSymbolResponse:
      type: object
      required:
      - bar-fillgaps
      - bar-source
      - bar-transform
      - base-currency
      - currency
      - description
      - exchange-listed
      - exchange-traded
      - expiration
      - fractional
      - has-daily
      - has-intraday
      - has-no-volume
      - has-weekly-and-monthly
      - intraday-multipliers
      - is-cfd
      - isin
      - minmovement
      - minmovement2
      - pointvalue
      - pricescale
      - root
      - root-description
      - s
      - session-extended
      - session-postmarket
      - session-premarket
      - session-regular
      - supported-resolutions
      - symbol
      - ticker
      - timezone
      - type
      - wkn
      properties:
        s:
          type: string
        symbol:
          type: array
          items:
            type: string
        description:
          type: array
          items:
            type: string
        currency:
          type: array
          items:
            type: string
        base-currency:
          type: array
          items:
            oneOf:
            - type: string
        exchange-listed:
          type: array
          items:
            type: string
        exchange-traded:
          type: array
          items:
            type: string
        minmovement:
          type: array
          items:
            type: integer
        minmovement2:
          type: array
          items:
            type: integer
        fractional:
          type: array
          items:
            type: boolean
        pricescale:
          type: array
          items:
            type: integer
        root:
          type: array
          items:
            oneOf:
            - type: string
        root-description:
          type: array
          items:
            oneOf:
            - type: string
        has-intraday:
          type: array
          items:
            type: boolean
        has-no-volume:
          type: array
          items:
            type: boolean
        type:
          type: array
          items:
            type: string
        is-cfd:
          type: array
          items:
            type: boolean
        ticker:
          type: array
          items:
            type: string
        timezone:
          type: array
          items:
            type: string
        session-regular:
          type: array
          items:
            type: string
        session-extended:
          type: array
          items:
            type: string
        session-premarket:
          type: array
          items:
            oneOf:
            - type: string
        session-postmarket:
          type: array
          items:
            oneOf:
            - type: string
        supported-resolutions:
          type: array
          items:
            type: array
            items:
              type: string
        has-daily:
          type: array
          items:
            type: boolean
        intraday-multipliers:
          type: array
          items:
            type: array
            items:
              type: string
        has-weekly-and-monthly:
          type: array
          items:
            type: boolean
        pointvalue:
          type: array
          items:
            oneOf:
            - type: integer
            - type: number
        expiration:
          type: array
          items:
            oneOf:
            - type: integer
        bar-source:
          type: array
          items:
            type: string
        bar-transform:
          type: array
          items:
            type: string
        bar-fillgaps:
          type: array
          items:
            type: string
        isin:
          type: array
          items:
            type: string
        wkn:
          type: array
          items:
            type: string

    PositionsResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - current_margin_ratio_with_orders
              - free_collateral
              - initial_margin_ratio
              - initial_margin_ratio_with_orders
              - maintenance_margin_ratio
              - maintenance_margin_ratio_with_orders
              - margin_ratio
              - open_margin_ratio
              - total_collateral_value
              - total_pnl_24_h
              - rows
              properties:
                current_margin_ratio_with_orders:
                  type: number
                  example: 1.2385
                free_collateral:
                  type: number
                  example: 450315.09115
                initial_margin_ratio:
                  type: number
                  example: 0.1
                initial_margin_ratio_with_orders:
                  type: number
                  example: 0.1
                maintenance_margin_ratio:
                  type: number
                  example: 0.05
                maintenance_margin_ratio_with_orders:
                  type: number
                  example: 0.05
                margin_ratio:
                  type: number
                  example: 1.2385
                open_margin_ratio:
                  type: number
                  example: 1.2102
                total_collateral_value:
                  type: number
                  example: 489865.71329
                total_pnl_24_h:
                  type: number
                  example: 0
                rows:
                  type: array
                  items:
                    $ref: '#/components/schemas/Position'

    PositionResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              $ref: '#/components/schemas/Position'

    Position:
      type: object
      properties:
        IMR_withdraw_orders:
          type: number
          example: 0.1
        MMR_with_orders:
          type: number
          example: 0.05
        average_open_price:
          type: number
          example: 27908.14386047
        cost_position:
          type: number
          example: -139329.358492
        est_liq_price:
          type: number
          example: 117335.92899428
        fee_24_h:
          type: number
          example: 0
        imr:
          type: number
          example: 0.1
        last_sum_unitary_funding:
          type: number
          example: 70.38
        mark_price:
          type: number
          example: 27794.9
        mmr:
          type: number
          example: 0.05
        pending_long_qty:
          type: number
          example: 0
        pending_short_qty:
          type: number
          example: 0
        pnl_24_h:
          type: number
          example: 0
        position_qty:
          type: number
          example: -5
        settle_price:
          type: number
          example: 27865.8716984
        symbol:
          type: string
          example: "PERP_BTC_USDC"
        timestamp:
          type: number
          example: 1685429350571
        unsettled_pnl:
          type: number
          example: 354.858492

    FundingFeeHistoryResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - meta
              - rows
              properties:
                meta:
                  $ref: '#/components/schemas/PaginationMeta'
                rows:
                  type: array
                  items:
                    type: object
                    properties:
                      symbol:
                        type: string
                        example: "PERP_ETH_USDC"
                      funding_rate:
                        type: number
                        example: 4.6875E-4
                      mark_price:
                        type: number
                        example: 2100
                      funding_fee:
                        type: number
                        example: 1.6E-5
                      payment_type:
                        type: string
                        example: "Pay"
                      status:
                        type: string
                        example: "Accrued"
                      created_time:
                        type: number
                        example: 1682235722003
                      updated_time:
                        type: number
                        example: 1682235722003

    LiquidatorLiquidationsResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - meta
              - rows
              properties:
                meta:
                  $ref: '#/components/schemas/PaginationMeta'
                rows:
                  type: array
                  items:
                    type: object
                    properties:
                      liquidation_id:
                        type: integer
                        example: 1728
                      timestamp:
                        type: number
                        example: 1685154032762
                      type:
                        type: string
                        example: "liquidated"
                      positions_by_perp:
                        type: array
                        items:
                          $ref: '#/components/schemas/PerpPosition'

    PerpPosition:
      type: object
      properties:
        abs_liquidator_fee:
          type: number
          example: 1.152279
        cost_position_transfer:
          type: number
          example: 65.84448
        liquidator_fee:
          type: number
          example: 0.0175
        position_qty:
          type: number
          example: 41.6
        symbol:
          type: string
          example: "PERP_NEAR_USDC"
        transfer_price:
          type: number
          example: 1.5828

    ClientLeverageBody:
      type: object
      required:
      - leverage
      properties:
        leverage:
          type: integer
          # TODO min/max?

    LiquidationsResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - meta
              - rows
              properties:
                meta:
                  $ref: '#/components/schemas/PaginationMeta'
                rows:
                  type: array
                  items:
                    type: object
                    properties:
                      liquidation_id:
                        type: number
                        example: 101
                      timestamp:
                        type: number
                        example: 1663313562090
                      transfer_amount_to_insurance_fund:
                        type: number
                        example: 0
                      positions_by_perp:
                        type: array
                        items:
                          $ref: '#/components/schemas/PerpPosition'

    LiquidationBody:
      required:
      - limit_price
      - liquidation_id
      - ratio_qty_request
      type: object
      properties:
        liquidation_id:
          type: integer
        ratio_qty_request:
          type: integer
        extra_liquidation_ratio:
          type: integer
        limit_price:
          type: object
          required:
          - symbol
          description: "Liquidatorâ€™s instruction to let the system reject the liquidation claim if the following condition applies: if position_qty > 0, reject if mark_price > limit_price; if position_qty < 0, reject if mark_price < limit_price"
          properties:
            symbol:
              type: number
              description: The limit price for each symbol in the liquidation claim

    # TODO different from LiquidationResponse?
    PostLiquidationResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - liquidation_id
              - positions_by_perp
              - timestamp
              - type
              properties:
                liquidation_id:
                  type: integer
                timestamp:
                  type: number
                type:
                  type: string
                  description: OR "claim"
                positions_by_perp:
                  type: array
                  items:
                    $ref: '#/components/schemas/PerpPosition'

    OrderBody:
      required:
      - order_id
      - order_type
      - side
      - symbol
      type: object
      properties:
        order_id:
          type: string
        symbol:
          type: string
        client_order_id:
          type: string
        order_type:
          type: string
        order_price:
          type: number
        order_quantity:
          type: number
        order_amount:
          type: number
        reduce_only:
          type: boolean
        visible_quantity:
          type: number
        side:
          type: string
        order_tag:
          type: string

    PutOrderResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - rows
              - status
              properties:
                rows:
                  type: array
                  items:
                    type: object
                    required:
                    - client_order_id
                    - error_message
                    - order_amount
                    - order_id
                    - order_price
                    - order_quantity
                    - order_type
                    - success
                    properties:
                      # TODO example
                      success:
                        type: boolean
                      order_id:
                        type: integer
                        # TODO nullable but required
                        nullable: true
                      client_order_id:
                        type: string
                        nullable: true
                      order_type:
                        type: string
                        nullable: true
                      order_price:
                        type: number
                        nullable: true
                      order_quantity:
                        type: number
                        nullable: true
                      order_amount:
                        type: number
                        nullable: true
                      error_message:
                        type: string
                        nullable: true

    PostOrderBody:
      required:
      - order_type
      - reduce_only
      - side
      - symbol
      type: object
      properties:
        symbol:
          type: string
          example: "PERP_ETH_USDC"
        client_order_id:
          type: string
          description: "36 length, default: null"
        order_type:
          type: string
          description: LIMIT/MARKET/IOC/FOK/POST_ONLY/ASK/BID
        order_price:
          type: number
          description: "If order_type is MARKET/ASK/BID, then is not required, otherwise this parameter is required."
        order_quantity:
          type: number
          description: "For MARKET/ASK/BID order, if order_amount is given, it is not required."
        order_amount:
          type: number
          description: "For MARKET/ASK/BID order, the order size in terms of quote currency"
        visible_quantity:
          type: number
          description: "The order quantity shown on orderbook. (default: equal to order_quantity)"
        side:
          type: string
          description: SELL/BUY
        reduce_only:
          type: boolean
          description: Default false

    PostOrderResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - required:
          - data
          type: object
          properties:
            data:
              $ref: '#/components/schemas/CreatedAlgoOrder'

    CreatedOrder:
      type: object
      required:
      - client_order_id
      - order_id
      - order_price
      - order_quantity
      - order_type
      properties:
        order_id:
          type: number
          example: 13
        client_order_id:
          type: string
          example: "testclientid"
        order_type:
          type: string
          example: "LIMIT"
        order_price:
          type: number
          example: 100.12
        order_quantity:
          type: number
          example: 0.987654
        reduce_only:
          type: boolean
          example: "false"

    CreatedAlgoOrder:
      type: object
      required:
        - order_id
        - client_order_id
        - algo_type
        - quantity
      properties:
        order_id:
          type: number
          example: 13
        client_order_id:
          type: string
          example: "testclientid"
        algo_type:
          type: string
          example: "STOP"
        quantity:
          type: number
          example: 100.12

    DeleteOrderResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - required:
          - data
          type: object
          properties:
            data:
              type: object
              required:
              - status
              properties:
                status:
                  $ref: '#/components/schemas/OrderStatus'

    OrderStatus:
      # TODO enum
      type: string
      example: "CANCEL_SENT"

    OrderResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              $ref: '#/components/schemas/Order'

    Order:
      type: object
      required:
      - amount
      - average_executed_price
      - broker_id
      - broker_name
      - client_order_id
      - created_time
      - executed
      - fee_asset
      - order_id
      - price
      - quantity
      - side
      - status
      - symbol
      - total_fee
      - type
      - updated_time
      - user_id
      - visible
      # TODO check
      - reduce_only
      properties:
        order_id:
          type: number
          example: 78151
        user_id:
          type: number
          example: 12345
        price:
          type: number
          example: 0.67772
        type:
          type: string
          example: "LIMIT"
        quantity:
          type: number
          example: 20
        amount:
          type: number
          # TODO nullable & example
          nullable: true
        executed:
          type: number
          example: 20
        visible:
          type: number
          example: 1
        symbol:
          type: string
          example: "PERP_WOO_USDC"
        side:
          type: string
          example: "BUY"
        status:
          type: string
          example: "FILLED"
          description: NEW / FILLED / PARTIAL_FILLED / CANCELLED
        total_fee:
          type: number
          example: 0
        fee_asset:
          type: string
          example: "WOO"
        client_order_id:
          type: number
          # TODO nullable & example
          nullable: true
        average_executed_price:
          type: number
          example: 0.67772
        broker_id:
          type: string
        broker_name:
          type: string
        created_time:
          type: number
          example: 1653563963000
        updated_time:
          type: number
          example: 1653564213000
        reduce_only:
          type: boolean
          example: false

    AlgoOrderResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              $ref: '#/components/schemas/AlgoOrder'
    AlgoOrder:
      type: object
      required:
        - algo_order_id
        - algo_status
        - algo_type
        - created_time
        - fee_asset
        - is_triggered
        - order_tag
        - parent_algo_order_id
        - quantity
        - root_algo_order_id
        - root_algo_order_status
        - side
        - symbol
        - total_executed_quantity
        - total_fee
        - trigger_price
        - trigger_price_type
        - type
        - updated_time
        - visible_quantity
      properties:
          algo_order_id:
            type: number
            example: 168400010
          algo_status:
            type: string
            example: "NEW"
          algo_type:
            type: string
            example: "STOP"
          fee_asset:
            type: string
            example: "USDC"
          is_triggered:
            type: string
            example: "false"
          order_tag:
            type: string
            example: "test_tag"
          parent_algo_order_id:
            type: number
            example: 0
          quantity:
            type: number
            example: 5.5
          root_algo_order_id:
            type: number
            example: 168400010
          root_algo_order_status:
            type: string
            example: "NEW"
          side:
            type: string
            example: "BUY"
          symbol:
            type: string
            example: "PERP_NEAR_USDC"
          total_executed_quantity:
            type: number
            example: 0
          total_fee:
            type: number
            example: 0
          trigger_price:
            type: number
            example: 2.5
          trigger_price_type:
            type: string
            example: "MARK_PRICE"
          type:
            type: string
            example: "MARKET"
          created_time:
            type: string
            example: 1702871974317
          updated_time:
            type: string
            example: 1702871974317
          visible_quantity:
            type: string
            example: 5.5

    TradesResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - meta
              - rows
              properties:
                meta:
                  $ref: '#/components/schemas/PaginationMeta'
                rows:
                  type: array
                  items:
                    $ref: '#/components/schemas/Trade'

    Trade:
      type: object
      properties:
        id:
          type: number
          example: 2
        symbol:
          type: string
          example: "PERP_BTC_USDC"
        fee:
          type: number
          example: 1.0E-4
        fee_asset:
          type: string
          example: "USDC"
          description: "fee. use Base as unit when BUY, use Quote as unit when SELL"
        side:
          type: string
          example: "BUY"
        order_id:
          type: number
          example: 1
        executed_price:
          type: number
          example: 123
        executed_quantity:
          type: number
          example: 0.05
        executed_timestamp:
          type: number
          example: 1567382401000
        is_maker:
          type: number
          example: 1


    AlgoTrade:
      type: object
      properties:
        id:
          type: number
          example: 2
        symbol:
          type: string
          example: "PERP_BTC_USDC"
        fee:
          type: number
          example: 1.0E-4
        fee_asset:
          type: string
          example: "USDC"
          description: "fee. use Base as unit when BUY, use Quote as unit when SELL"
        side:
          type: string
          example: "BUY"
        order_id:
          type: number
          example: 1
        executed_price:
          type: number
          example: 123
        executed_quantity:
          type: number
          example: 0.05
        executed_timestamp:
          type: number
          example: 1567382401000
        is_maker:
          type: number
          example: 1

    ClientHoldingResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - holding
              properties:
                holding:
                  type: array
                  items:
                    type: object
                    required:
                    - frozen
                    - holding
                    - pending_short
                    - token
                    - updated_time
                    properties:
                      updated_time:
                        type: number
                        example: 1580794149000
                        description: Unix epoch time in milliseconds
                      token:
                        type: string
                        example: "BTC"
                      holding:
                        type: number
                        example: -28.000752
                      frozen:
                        type: number
                        example: 0
                      pending_short:
                        type: number
                        example: -2000

    ClientInfoResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - required:
          - data
          type: object
          properties:
            data:
              type: object
              required:
              - account_id
              - account_mode
              - email
              - futures_maker_fee_rate
              - futures_taker_fee_rate
              - imr_factor
              - maintenance_cancel_orders
              - maker_fee_rate
              - max_leverage
              - taker_fee_rate
              - tier
              properties:
                account_id:
                  type: string
                email:
                  type: string
                  example: "test@test.com"
                account_mode:
                  type: string
                  example: "FUTURES"
                  description: account mode
                max_leverage:
                  type: number
                  example: 20
                tier:
                  type: string
                  example: "1"
                taker_fee_rate:
                  type: number
                  example: 0
                maker_fee_rate:
                  type: number
                  example: 0
                futures_taker_fee_rate:
                  type: number
                  example: 0
                futures_maker_fee_rate:
                  type: number
                  example: 0
                maintenance_cancel_orders:
                  type: boolean
                  example: true
                imr_factor:
                  # TODO
                  type: object
                  required:
                  - BTC
                  - ETH
                  - NEAR
                  properties:
                    BTC:
                      type: number
                    ETH:
                      type: number
                    NEAR:
                      type: number

    OrdersResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - meta
              - rows
              properties:
                meta:
                  $ref: '#/components/schemas/PaginationMeta'
                rows:
                  type: array
                  items:
                    $ref: '#/components/schemas/Order'

    AlgoOrdersResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
            - data
          properties:
            data:
              type: object
              required:
                - meta
                - rows
              properties:
                meta:
                  $ref: '#/components/schemas/PaginationMeta'
                rows:
                  type: array
                  items:
                    $ref: '#/components/schemas/AlgoOrder'

    ClientStatisticsResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - days_since_registration
              - fees_paid_last_30_days
              - perp_fees_paid_last_30_days
              - perp_trading_volume_last_24_hours
              - perp_trading_volume_last_30_days
              - perp_trading_volume_ytd
              - trading_volume_last_24_hours
              - trading_volume_last_30_days
              - trading_volume_ytd
              properties:
                days_since_registration:
                  type: integer
                  example: 109
                fees_paid_last_30_days:
                  type: integer
                  example: 0
                perp_fees_paid_last_30_days:
                  type: integer
                  example: 0
                perp_trading_volume_last_24_hours:
                  type: integer
                  example: 0
                perp_trading_volume_last_30_days:
                  type: integer
                  example: 0
                perp_trading_volume_ytd:
                  type: integer
                  example: 0
                trading_volume_last_24_hours:
                  type: integer
                  example: 0
                trading_volume_last_30_days:
                  type: integer
                  example: 0
                trading_volume_ytd:
                  type: number
                  example: 459.7436

    AssetHistoryResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - required:
          - data
          type: object
          properties:
            data:
              type: object
              required:
              - meta
              - rows
              properties:
                meta:
                  $ref: '#/components/schemas/PaginationMeta'
                rows:
                  type: array
                  items:
                    type: object
                    required:
                    - id
                    - tx_id
                    - side
                    - token
                    - amount
                    - fee
                    - trans_status
                    - created_time
                    - updated_time
                    - chain_id
                    properties:
                      id:
                        type: string
                        example: "230707030600002"
                      tx_id:
                        type: string
                        example: "0x4b0714c63cc7abae72bf68e84e25860b88ca651b7d27dad1e32bf4c027fa5326"
                      side:
                        type: string
                        example: "WITHDRAW"
                      token:
                        type: string
                        example: "USDC"
                      amount:
                        type: number
                        example: 555
                      fee:
                        type: number
                        example: 0
                      trans_status:
                        type: string
                        example: "FAILED"
                      created_time:
                        type: number
                        example: 1688699193034
                      updated_time:
                        type: number
                        example: 1688699193096
                      chain_id:
                        type: string
                        example: "986532"

    ClaimInsuranceFundBody:
      type: object
      required:
      - claim_id
      - qty_request
      - symbol
      properties:
        claim_id:
          type: number
        symbol:
          type: string
        qty_request:
          type: number
          description: Quantity to be claimed from insurance fund
        limit_price:
          type: number

    ClaimInsuranceFundResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - liquidation_id
              - positions_by_perp
              - timestamp
              properties:
                liquidation_id:
                  type: integer
                  example: 101
                timestamp:
                  type: integer
                  example: 1663313562090
                positions_by_perp:
                  type: array
                  items:
                    $ref: '#/components/schemas/PerpPosition'

    SystemInfoResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - msg
              - status
              properties:
                status:
                  type: integer
                  description: status = 2 means exchange is under maintenance
                msg:
                  type: string

    RegistrationNonceResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - registration_nonce
              properties:
                registration_nonce:
                  type: string
                  example: "194528949540"

    GetAccountResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - account_id
              - user_id
              properties:
                user_id:
                  type: integer
                  example: 24
                account_id:
                  type: string
                  example: "0xb129e074a17dfba8d652ae1eca21c7d6bb6904f1aa693f4886d50db170933a46"

    RegisterAccountBody:
      type: object
      required:
      - message
      - signature
      - userAddress
      properties:
        message:
          type: object
          required:
          - brokerId
          - chainId
          - registrationNonce
          - timestamp
          properties:
            brokerId:
              type: string
              description: Broker ID
            chainId:
              type: string
              description: Chain ID of registering chain (within those that are supported by the Network)
            timestamp:
              type: string
              description: timestamp in UNIX milliseconds
            registrationNonce:
              type: string
          description: Message object containing the message that is signed by the wallet owner
        signature:
          type: string
          description: The signature generated by signing the message object via EIP-712
        userAddress:
          type: string
          description: The address of the wallet signing the message object via EIP-712

    RegisterAccountResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - account_id
              properties:
                account_id:
                  type: string

    GetOrderlyKeyResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - expiration
              - orderly_key
              - scope
              - tag
              properties:
                orderly_key:
                  type: string
                  example: "ed25519:7tEoJo5hMBKBrQsqmc8yw1xNfoQCFQBVwQT1eFafRNRf"
                scope:
                  type: string
                  example: "read,trading"
                expiration:
                  type: integer
                  example: 1689086651947
                tag:
                  type: string

    OrderlyKeyBody:
      type: object
      required:
      - message
      - signature
      - tag
      - userAddress
      properties:
        message:
          type: object
          required:
          - brokerId
          - chainId
          - expiration
          - orderlyKey
          - scope
          - timestamp
          properties:
            brokerId:
              type: string
              description: Broker ID
            chainId:
              type: integer
              description: Chain ID of registering chain (within those that are supported by the Network)
            orderlyKey:
              type: integer
              description: Orderly Key to be added
            scope:
              type: string
              description: Valid nonce from Get Registration Nonce
            timestamp:
              type: number
              description: timestamp in UNIX milliseconds
            expiration:
              type: number
              description: Expiration time of the key in UNIX milliseconds. Maximum allowed expiration is 365 days from add
          description: Message object containing the message that is signed by the wallet owner
        signature:
          type: string
          description: The signature generated by signing the message object via EIP-712
        userAddress:
          type: string
          description: The address of the wallet signing the message object via EIP-712
        tag:
          type: string
          description: An optional tag of string valuesã€‚

    OrderlyKeyResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - orderly_key
              properties:
                orderly_key:
                  type: string
                  example: "ed25519:FRXntsPJBCy6dzKv9WPw4eYSw3rKU9Npz3T6UmvvJc9Z"

    ConfigResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - available_futures_leverage
              properties:
                available_futures_leverage:
                  type: string
                  example: "1,2,3,4,5,10"

    ChainInfoResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - rows
              properties:
                rows:
                  type: array
                  items:
                    type: object
                    required:
                    - name
                    - public_rpc_url
                    - chain_id
                    - currency_symbol
                    - explorer_base_url
                    # TODO vault_address has been missing. Check
                    - vault_address
                    properties:
                      name:
                        type: string
                        example: "Arbitrum"
                      public_rpc_url:
                        type: string
                        example: "https://arb1.arbitrum.io/rpc"
                      chain_id:
                        type: string
                        example: "42161"
                      currency_symbol:
                        type: string
                        example: "ETH"
                      explorer_base_url:
                        type: string
                        example: https://arbiscan.io
                      vault_address:
                        type: string
                        example: "0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9"

    BatchOrderResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - rows
              properties:
                rows:
                  type: array
                  items:
                    $ref: '#/components/schemas/CreatedOrder'

    OrderStatusResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              $ref: '#/components/schemas/OrderStatus'

    ClientOrderResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - required:
          - data
          type: object
          properties:
            data:
              $ref: '#/components/schemas/Order'

    AlgoClientOrderResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - required:
            - data
          type: object
          properties:
            data:
              $ref: '#/components/schemas/AlgoOrder'

    OrderbookResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - asks
              - bids
              - timestamp
              properties:
                asks:
                  type: array
                  items:
                    $ref: '#/components/schemas/OrderbookEntry'
                bids:
                  type: array
                  items:
                    $ref: '#/components/schemas/OrderbookEntry'
                timestamp:
                  type: integer
                  description: Unix epoch time in milliseconds

    OrderbookEntry:
      type: object
      required:
      - price
      - quantity
      properties:
        price:
          type: number
          example: 10669.4
        quantity:
          type: number
          example: 1.56263218

    KlineResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - rows
              properties:
                rows:
                  type: array
                  items:
                    required:
                    - open
                    - close
                    - low
                    - high
                    - volume
                    - amount
                    - symbol
                    - type
                    - start_timestamp
                    - end_timestamp
                    type: object
                    properties:
                      open:
                        type: number
                        example: 66166.23
                      close:
                        type: number
                        example: 66124.56
                      low:
                        type: number
                        example: 66038.06
                      high:
                        type: number
                        example: 66176.97
                      volume:
                        type: number
                        example: 23.45528526
                      amount:
                        type: number
                        example: 1550436.21725288
                      symbol:
                        type: string
                        example: "PERP_BTC_USDC"
                      type:
                        type: string
                        example: "1m"
                      start_timestamp:
                        type: integer
                        example: 1636388220000
                        description: Unix epoch time in milliseconds
                      end_timestamp:
                        type: integer
                        example: 1636388280000
                        description: Unix epoch time in milliseconds

    OrderTradesResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - required:
          - data
          type: object
          properties:
            data:
              type: object
              required:
              - rows
              properties:
                rows:
                  type: array
                  items:
                    $ref: '#/components/schemas/Trade'

    AlgoOrderTradesResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - required:
            - data
          type: object
          properties:
            data:
              type: object
              required:
                - rows
              properties:
                rows:
                  type: array
                  items:
                    $ref: '#/components/schemas/AlgoTrade'

    TradeResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              $ref: '#/components/schemas/Trade'

    ClientMaintenanceConfigBody:
      type: object
      required:
      - maintenance_cancel_order_flag
      properties:
        maintenance_cancel_order_flag:
          type: boolean
          description: "if true, system will cancel all of user's pending orders during maintenance."

    ClientMaintenanceConfigResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - success_alter
              properties:
                success_alter:
                  type: string
                  example: "Success! Your change has been saved!"

    DailyVolumeResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: array
              items:
                type: object
                required:
                - date
                - perp_volume
                properties:
                  date:
                    type: string
                    example: 2024-01-01
                  perp_volume:
                    type: number
                    example: 100.24

    WithdrawNonceReponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - withdraw_nonce
              properties:
                withdraw_nonce:
                  type: integer
                  example: 1

    SettleNonceResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - settle_nonce
              properties:
                settle_nonce:
                  type: integer
                  example: 1

    WithdrawRequestBody:
      required:
      - signature
      - userAddress
      - verifyingContract
      - message
      type: object
      properties:
        signature:
          type: string
          description: The signature generated by signing the message object via EIP-712
        userAddress:
          type: string
          description: The address of the wallet signing the message object via EIP-712
        verifyingContract:
          type: string
          description: Address of the Orderly Network ledger contract
        message:
          type: object
          description: Message object containing the message that is signed by the wallet owner
          required:
          - brokerId
          - chainId
          - receiver
          - token
          - amount
          - withdrawNonce
          - timestamp
          properties:
            brokerId:
              type: string
              description: Broker ID
            chainId:
              type: integer
              description: Chain ID of registering chain (within those that are supported by the Network)
            receiver:
              type: string
              description: Chain ID of registering chain (within those that are supported by the Network)
            token:
              type: string
              description: The string representation of the token that is being withdrawn (eg "USDC")
            amount:
              type: integer
              description: Amount of tokens to be withdrawn
            withdrawNonce:
              type: string
              description: Valid withdrawal nonce from Get withdrawal nonce
            timestamp:
              type: string
              description: current timestamp in UNIX milliseconds

    SettlePnlBody:
      required:
      - signature
      - userAddress
      - verifyingContract
      - message
      type: object
      properties:
        signature:
          type: string
          description: The signature generated by signing the message object via EIP-712
        userAddress:
          type: string
          description: The address of the wallet signing the message object via EIP-712
        verifyingContract:
          type: string
          description: Address of the Orderly Network ledger contract
        message:
          type: object
          description: Message object containing the message that is signed by the wallet owner
          required:
          - brokerId
          - chainId
          - settleNonce
          - timestamp
          properties:
            brokerId:
              type: string
              description: Broker ID
            chainId:
              type: integer
              description: Chain ID of registering chain (within those that are supported by the Network)
            settleNonce:
              type: integer
              description: Nonce from Get settle PnL Nonce
            timestamp:
              type: string
              description: current timestamp in UNIX milliseconds

    SettlePnlResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - settle_pnl_id
              properties:
                settle_pnl_id:
                  type: integer
                  example: 1

    PnlSettlementHistoryResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - meta
              - rows
              properties:
                meta:
                  $ref: '#/components/schemas/PaginationMeta'
                rows:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 10001
                      old_balance:
                        type: number
                        example: 4050
                      new_balance:
                        type: number
                        example: 3050
                      settled_amount:
                        type: number
                        example: -500
                      requested_time:
                        type: integer
                        description: Unix epoch time in ms
                        example: 1575014255089
                      settled_time:
                        type: integer
                        description: Unix epoch time in ms
                        example: 1575014255910
                      symbols:
                        type: array
                        items:
                          type: object
                          required:
                          - settled_amount
                          - symbol
                          properties:
                            symbol:
                              type: string
                              example: "PERP_BTC_USDC"
                            settled_amount:
                              # TODO should this be number?
                              type: integer
                              example: -500

    KeyInfoResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: array
              items:
                type: object
                # TODO required
                properties:
                  orderly_key:
                    type: string
                    example: ed25519:B4yEc8xMjoqdUiKT5ZT1b2cUy5cggZrbMPvCrqyjkQhf
                  key_status:
                    type: string
                    description: ACTIVE / REMOVING / REMOVED
                    example: "ACTIVE"
                  ip_restriction_list:
                    type: array
                    items:
                      type: string
                  ip_restricion_status:
                    type: string
                    description: ALLOW_RESTRICTION_LIST / ALLOW_ALL_IPS / DISALLOW_ALL_IPS
                    example: "ALLOW_ALL_IPS"
                  expiration:
                    type: integer
                    example: 1689086651947
                  tag:
                    type: string
                    description: "Optional, could be null if there wasn't a tag"

    IpRestrictionResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - required:
          - data
          type: object
          properties:
            data:
              type: object
              required:
              - account_id
              - ip_restriction_list
              - orderly_key
              - tag
              properties:
                account_id:
                  type: string
                  example: "0x0f29bfb4c1bc9fea3f3be46bab6d795e22a6272354b136fde05f6b80cfcad546"
                orderly_key:
                  type: string
                  example: "ed25519:8tm7dnKYkSc3FzgPuJaw1wztr79eeZpN35nHW5pL5XhX"
                ip_restriction_list:
                  type: array
                  items:
                    type: string
                    example: "218.190.230.163"
                tag:
                  type: string
                  # TODO optional, but required?
                  description: "Optional, could be null if there wasn't a tag"

    SetIpRestrictionResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - ip_restriction_list
              properties:
                ip_restriction_list:
                  type: array
                  items:
                    type: string
                    example: "192.168.0.1-192.168.0.10"

    AllNotificationsResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - required:
          - data
          type: object
          properties:
            data:
              required:
              - meta
              - rows
              type: object
              properties:
                rows:
                  type: array
                  items:
                    $ref: '#/components/schemas/Notification'
                meta:
                  $ref: '#/components/schemas/PaginationMeta'

    Notification:
      type: object
      # TODO required
      properties:
        id:
          type: integer
          example: 12345
        message_type:
          type: string
          description: ORDER_FILLED
          example: "ORDER_FILLED"
        email:
          type: string
          description: email if bounded to the account
          example: test@orderly.network
        application_id:
          type: string
          description: wallet address of the account
          example: "0x0f29bfb4c1bc9fea3f3be46bab6d795e22a6272354b136fde05f6b80cfcad546"
        title:
          type: string
          example: " Your order has been filled"
        type:
          type: string
          description: TRADE / SYSTEM
          example: "TRADE"
        level:
          type: string
          description: GENERAL / IMPORTANT
          example: "GENERAL"
        content_summary:
          type: string
          example: "Your order to buy 1 NEAR-PERP has been filled: 0.5/1 at 1.9876."
        content:
          type: string
          example: "<p>Your order to buy 1 NEAR-PERP has been filled: 0.5/1 at 1.9876.</p>"
        content_raw:
          required:
          - executed_price
          - executed_quantity
          - executed_timestamp
          - order_id
          - side
          - symbol
          type: object
          properties:
            symbol:
              type: string
              example: "PERP_NEAR_USDC"
            side:
              type: string
              example: "BUY"
            order_id:
              type: integer
              example: 1
            executed_price:
              type: number
              example: 1.9876
            executed_quantity:
              type: number
              example: 0.5
            executed_timestamp:
              type: integer
              example: 1567382401000
        mark_read:
          type: integer
          description: "1 = READ, 0 = UNREAD"
          example: 1
        operator:
          type: integer
          example: 1
        created_time:
          type: integer
          example: 1670425970373
        announcement_id:
          type: integer

    UnreadNotificationsResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - count
              - lastId
              - meta
              - rows
              properties:
                rows:
                  type: array
                  items:
                    $ref: '#/components/schemas/Notification'
                meta:
                  $ref: '#/components/schemas/PaginationMeta'
                count:
                  type: integer
                  description: number of unread messages
                lastId:
                  type: integer
                  description: the id of the last unread message

    VaultBalanceResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - rows
              properties:
                rows:
                  type: array
                  items:
                    type: object
                    properties:
                      chain_id:
                        type: integer
                        example: 80001
                      token:
                        type: string
                        example: "USDC"
                      balance:
                        type: number
                        example: 1000.12345

    GetAccountDetailsResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
            - data
          properties:
            data:
              type: object
              required:
                - address
                - broker_id
              properties:
                address:
                  type: string
                  example: "0xfcc17f2b240380d56f0615e8f654e4ae3cee8957"
                broker_id:
                  type: string
                  example: "woofi_pro"

    GetBrokerDailyResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
          - data
          properties:
            data:
              type: object
              required:
              - rows
              properties:
                rows:
                  type: array
                  items:
                    type: object
                    properties:
                      account_id:
                        type: string
                        example: "0x58220761ade872c94f85e62f1b24a74eec792aaa3677b6201071fd05c1698e89"
                      date:
                        type: string
                        example: "2023-09-14"
                      perp_volume:
                        type: number
                        example: 451580.9523



    GetUserDailyStatsResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
            - data
          properties:
            data:
              type: object
              required:
                - rows
              properties:
                rows:
                  type: array
                  items:
                    type: object
                    properties:
                      account_value:
                        type: number
                        example: 456789.12
                      date:
                        type: string
                        example: "2023-09-14"
                      perp_volume:
                        type: number
                        example: 451580.9523
                      pnl:
                        type: number
                        example: 123.45

    UserFeeTierResponse:
      allOf:
        - $ref: '#/components/schemas/BasicResponse'
        - type: object
          required:
            - data
          properties:
            data:
              type: object
              required:
                - rows
              properties:
                rows:
                  type: array
                  items:
                    type: object
                    properties:
                      account_id:
                        type: string
                        example: "0x114f583aea808c5812e16109b6c087660285a26f0a31dcc0f9b54f1a6a0fefbd"
                      address:
                        type: string
                        example: "0xa8ec6970fec8842dd229eef170f624c3d77dab45"
                      fee_tier:
                        type: string
                        example: "1"
                      futures_maker_fee_rate:
                        type: number
                        example: 0.03
                      futures_taker_fee_rate:
                        type: number
                        example: 0.01




servers:
  - url: https://api-evm.orderly.org
    description: Mainnet
  - url: https://testnet-api-evm.orderly.network
    description: Testnet
